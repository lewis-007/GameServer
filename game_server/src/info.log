2024-01-10 17:27:02 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-10 17:27:16 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-10 17:27:16 - config.py[line:342] - INFO: Will watch for changes in these directories: ['D:\\CocosProject\\hjzd\\game_server\\src']
2024-01-10 17:27:16 - config.py[line:562] - INFO: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2024-01-10 17:27:16 - basereload.py[line:59] - INFO: Started reloader process [21868] using statreload
2024-01-10 17:27:16 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-10 17:27:17 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-10 17:27:17 - server.py[line:84] - INFO: Started server process [37804]
2024-01-10 17:27:17 - on.py[line:45] - INFO: Waiting for application startup.
2024-01-10 17:27:17 - on.py[line:119] - ERROR: Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 501, in _connect
    await self._request_authentication()
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 783, in _request_authentication
    auth_packet = await self._read_packet()
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 591, in _read_packet
    packet.check_error()
  File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.OperationalError: (1045, "Access denied for user 'root'@'localhost' (using password: YES)")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 635, in lifespan
    async with self.lifespan_context(app):
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 530, in __aenter__
    await self._router.startup()
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 612, in startup
    await handler()
  File "D:\CocosProject\hjzd\game_server\src\starter\main_start.py", line 79, in startup
    await db.connect()
  File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 89, in connect
    await self._backend.connect()
  File "D:\PyProject\game_server\venv\lib\site-packages\databases\backends\mysql.py", line 68, in connect
    **kwargs,
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\pool.py", line 29, in _create_pool
    await pool._fill_free_pool(False)
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\pool.py", line 168, in _fill_free_pool
    **self._conn_kwargs)
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 75, in _connect
    await conn._connect()
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 521, in _connect
    self._host) from e
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on '127.0.0.1'")

2024-01-10 17:27:17 - on.py[line:56] - ERROR: Application startup failed. Exiting.
2024-01-10 17:27:18 - basereload.py[line:90] - INFO: Stopping reloader process [21868]
2024-01-10 17:27:41 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-10 17:27:42 - config.py[line:342] - INFO: Will watch for changes in these directories: ['D:\\CocosProject\\hjzd\\game_server\\src']
2024-01-10 17:27:42 - config.py[line:562] - INFO: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2024-01-10 17:27:42 - basereload.py[line:59] - INFO: Started reloader process [35748] using statreload
2024-01-10 17:27:42 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-10 17:27:42 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-10 17:27:42 - server.py[line:84] - INFO: Started server process [17516]
2024-01-10 17:27:42 - on.py[line:45] - INFO: Waiting for application startup.
2024-01-10 17:27:42 - core.py[line:91] - INFO: Connected to database mysql+pymysql://root:********@127.0.0.1:3306/game_server?charset=utf8mb4
2024-01-10 17:27:42 - on.py[line:59] - INFO: Application startup complete.
2024-01-10 17:27:57 - basereload.py[line:90] - INFO: Stopping reloader process [35748]
2024-01-10 17:28:46 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-10 17:28:47 - config.py[line:342] - INFO: Will watch for changes in these directories: ['D:\\CocosProject\\hjzd\\game_server\\src']
2024-01-10 17:28:47 - config.py[line:562] - INFO: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2024-01-10 17:28:47 - basereload.py[line:59] - INFO: Started reloader process [12932] using statreload
2024-01-10 17:28:47 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-10 17:28:48 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-10 17:28:48 - server.py[line:84] - INFO: Started server process [35472]
2024-01-10 17:28:48 - on.py[line:45] - INFO: Waiting for application startup.
2024-01-10 17:28:48 - core.py[line:91] - INFO: Connected to database mysql+pymysql://root:********@127.0.0.1:3306/game_server?charset=utf8mb4
2024-01-10 17:28:48 - on.py[line:59] - INFO: Application startup complete.
2024-01-10 17:29:17 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 5529) - "WebSocket /ws/eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxNzQ0OTA2ODQ3MjM3ODQwODk2LCJleHAiOjE3MDUxMzgxNTZ9.xaFtHqPRdoQN-LxsItVGn_PbWVMsnBZjaHJJiwiMEJ4" [accepted]
2024-01-10 17:29:17 - log.py[line:18] - INFO: 用户 1744906847237840896 上线，在线人数：1
2024-01-10 17:29:23 - log.py[line:18] - INFO: 客户端断开连接
2024-01-10 17:29:23 - log.py[line:18] - INFO: 用户 1744906847237840896 下线，在线人数：0
2024-01-10 17:29:49 - server.py[line:263] - INFO: Shutting down
2024-01-11 10:27:43 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-11 10:27:43 - config.py[line:342] - INFO: Will watch for changes in these directories: ['D:\\CocosProject\\hjzd\\game_server\\src']
2024-01-11 10:27:43 - config.py[line:562] - INFO: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2024-01-11 10:27:43 - basereload.py[line:59] - INFO: Started reloader process [13112] using statreload
2024-01-11 10:27:43 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-11 10:27:44 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-11 10:27:44 - server.py[line:84] - INFO: Started server process [38072]
2024-01-11 10:27:44 - on.py[line:45] - INFO: Waiting for application startup.
2024-01-11 10:27:44 - core.py[line:91] - INFO: Connected to database mysql+pymysql://root:********@127.0.0.1:3306/game_server?charset=utf8mb4
2024-01-11 10:27:44 - on.py[line:59] - INFO: Application startup complete.
2024-01-11 10:27:49 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 10449) - "WebSocket /ws/eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxNzQ0OTA2ODQ3MjM3ODQwODk2LCJleHAiOjE3MDUxOTkyNjl9.0kVHx7MFbpMw4_M-3ph0LfafHrxWWnLEvurPEVzzP4Q" [accepted]
2024-01-11 10:27:49 - log.py[line:18] - INFO: 用户 1744906847237840896 上线，在线人数：1
2024-01-11 10:27:52 - log.py[line:18] - INFO: 客户端断开连接
2024-01-11 10:27:52 - log.py[line:18] - INFO: 用户 1744906847237840896 下线，在线人数：0
2024-01-11 10:28:33 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 10516) - "WebSocket /ws/eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxNzQ0OTA2ODQ3MjM3ODQwODk2LCJleHAiOjE3MDUxOTkzMTN9.74YFYPHrNGI7GDFWIC-oZFSuGvYGrNvtwFwHwSpY61U" [accepted]
2024-01-11 10:28:33 - log.py[line:18] - INFO: 用户 1744906847237840896 上线，在线人数：1
2024-01-11 10:28:36 - log.py[line:18] - INFO: 客户端断开连接
2024-01-11 10:28:36 - log.py[line:18] - INFO: 用户 1744906847237840896 下线，在线人数：0
2024-01-11 10:28:42 - server.py[line:263] - INFO: Shutting down
2024-01-11 10:28:42 - basereload.py[line:90] - INFO: Stopping reloader process [13112]
2024-01-11 14:14:52 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-11 14:14:52 - config.py[line:342] - INFO: Will watch for changes in these directories: ['D:\\CocosProject\\hjzd\\game_server\\src']
2024-01-11 14:14:52 - config.py[line:562] - INFO: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2024-01-11 14:14:52 - basereload.py[line:59] - INFO: Started reloader process [13584] using statreload
2024-01-11 14:14:52 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-11 14:14:53 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-11 14:14:53 - server.py[line:84] - INFO: Started server process [33176]
2024-01-11 14:14:53 - on.py[line:45] - INFO: Waiting for application startup.
2024-01-11 14:14:53 - core.py[line:91] - INFO: Connected to database mysql+pymysql://root:********@127.0.0.1:3306/game_server?charset=utf8mb4
2024-01-11 14:14:53 - on.py[line:59] - INFO: Application startup complete.
2024-01-11 14:17:08 - server.py[line:263] - INFO: Shutting down
2024-01-11 14:17:08 - basereload.py[line:90] - INFO: Stopping reloader process [13584]
2024-01-16 15:10:07 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-16 15:10:07 - config.py[line:342] - INFO: Will watch for changes in these directories: ['D:\\CocosProject\\wb\\game_server\\src']
2024-01-16 15:10:07 - config.py[line:562] - INFO: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2024-01-16 15:10:07 - basereload.py[line:59] - INFO: Started reloader process [22376] using statreload
2024-01-16 15:10:07 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-16 15:10:08 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-16 15:10:08 - server.py[line:84] - INFO: Started server process [9084]
2024-01-16 15:10:08 - on.py[line:45] - INFO: Waiting for application startup.
2024-01-16 15:10:08 - core.py[line:91] - INFO: Connected to database mysql+pymysql://root:********@127.0.0.1:3306/game_server?charset=utf8mb4
2024-01-16 15:10:08 - on.py[line:59] - INFO: Application startup complete.
2024-01-16 15:10:11 - basereload.py[line:90] - INFO: Stopping reloader process [22376]
2024-01-16 15:21:38 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-16 15:21:39 - config.py[line:342] - INFO: Will watch for changes in these directories: ['D:\\CocosProject\\wb\\game_server\\src']
2024-01-16 15:21:39 - config.py[line:562] - INFO: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2024-01-16 15:21:39 - basereload.py[line:59] - INFO: Started reloader process [25188] using statreload
2024-01-16 15:21:39 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-16 15:21:40 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-16 15:21:40 - server.py[line:84] - INFO: Started server process [32140]
2024-01-16 15:21:40 - on.py[line:45] - INFO: Waiting for application startup.
2024-01-16 15:21:40 - core.py[line:91] - INFO: Connected to database mysql+pymysql://root:********@127.0.0.1:3306/game_server?charset=utf8mb4
2024-01-16 15:21:40 - on.py[line:59] - INFO: Application startup complete.
2024-01-16 15:21:42 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 3021) - "WebSocket /ws/eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxNzQ0OTA2ODQ3MjM3ODQwODk2LCJleHAiOjE3MDU2NDg5MDJ9.gT09BTVWyi65Rj9YdFNGBQBGq5drbLPH5p5Pu8NErCk" [accepted]
2024-01-16 15:21:42 - log.py[line:18] - INFO: 用户 1744906847237840896 上线，在线人数：1
2024-01-16 15:21:48 - log.py[line:18] - INFO: 客户端断开连接
2024-01-16 15:21:48 - log.py[line:18] - INFO: 用户 1744906847237840896 下线，在线人数：0
2024-01-16 15:22:56 - server.py[line:263] - INFO: Shutting down
2024-01-16 15:22:56 - basereload.py[line:90] - INFO: Stopping reloader process [25188]
2024-01-16 15:22:56 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-16 15:22:57 - config.py[line:342] - INFO: Will watch for changes in these directories: ['D:\\CocosProject\\wb\\game_server\\src']
2024-01-16 15:22:57 - config.py[line:551] - ERROR: [WinError 10049] 在其上下文中，该请求的地址无效。
2024-01-16 15:23:04 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-16 15:23:04 - config.py[line:342] - INFO: Will watch for changes in these directories: ['D:\\CocosProject\\wb\\game_server\\src']
2024-01-16 15:23:04 - config.py[line:551] - ERROR: [WinError 10049] 在其上下文中，该请求的地址无效。
2024-01-16 15:23:16 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-16 15:23:16 - config.py[line:342] - INFO: Will watch for changes in these directories: ['D:\\CocosProject\\wb\\game_server\\src']
2024-01-16 15:23:16 - config.py[line:551] - ERROR: [WinError 10049] 在其上下文中，该请求的地址无效。
2024-01-16 15:23:29 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-16 15:23:29 - config.py[line:342] - INFO: Will watch for changes in these directories: ['D:\\CocosProject\\wb\\game_server\\src']
2024-01-16 15:23:29 - config.py[line:562] - INFO: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2024-01-16 15:23:29 - basereload.py[line:59] - INFO: Started reloader process [6000] using statreload
2024-01-16 15:23:29 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-16 15:23:30 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-16 15:23:30 - server.py[line:84] - INFO: Started server process [4108]
2024-01-16 15:23:30 - on.py[line:45] - INFO: Waiting for application startup.
2024-01-16 15:23:30 - core.py[line:91] - INFO: Connected to database mysql+pymysql://root:********@127.0.0.1:3306/game_server?charset=utf8mb4
2024-01-16 15:23:30 - on.py[line:59] - INFO: Application startup complete.
2024-01-16 15:23:32 - server.py[line:263] - INFO: Shutting down
2024-01-16 15:23:32 - basereload.py[line:90] - INFO: Stopping reloader process [6000]
2024-01-16 15:23:38 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-16 15:23:38 - config.py[line:342] - INFO: Will watch for changes in these directories: ['D:\\CocosProject\\wb\\game_server\\src']
2024-01-16 15:23:38 - config.py[line:551] - ERROR: [WinError 10049] 在其上下文中，该请求的地址无效。
2024-01-16 15:24:21 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-16 15:24:21 - config.py[line:342] - INFO: Will watch for changes in these directories: ['D:\\CocosProject\\wb\\game_server\\src']
2024-01-16 15:24:21 - config.py[line:562] - INFO: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2024-01-16 15:24:21 - basereload.py[line:59] - INFO: Started reloader process [34248] using statreload
2024-01-16 15:24:21 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-16 15:24:22 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-16 15:24:22 - server.py[line:84] - INFO: Started server process [22388]
2024-01-16 15:24:22 - on.py[line:45] - INFO: Waiting for application startup.
2024-01-16 15:24:22 - on.py[line:119] - ERROR: Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 501, in _connect
    await self._request_authentication()
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 794, in _request_authentication
    await self._process_auth(plugin_name, auth_packet)
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 817, in _process_auth
    await self.sha256_password_auth(auth_packet)
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 962, in sha256_password_auth
    self.server_public_key
  File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\_auth.py", line 142, in sha2_rsa_encrypt
    raise RuntimeError("cryptography is required for sha256_password or caching_sha2_password")
RuntimeError: cryptography is required for sha256_password or caching_sha2_password

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 635, in lifespan
    async with self.lifespan_context(app):
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 530, in __aenter__
    await self._router.startup()
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 612, in startup
    await handler()
  File "D:\CocosProject\wb\game_server\src\starter\main_start.py", line 79, in startup
    await db.connect()
  File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 89, in connect
    await self._backend.connect()
  File "D:\PyProject\game_server\venv\lib\site-packages\databases\backends\mysql.py", line 68, in connect
    **kwargs,
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\pool.py", line 29, in _create_pool
    await pool._fill_free_pool(False)
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\pool.py", line 168, in _fill_free_pool
    **self._conn_kwargs)
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 75, in _connect
    await conn._connect()
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 521, in _connect
    self._host) from e
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on '127.0.0.1'")

2024-01-16 15:24:22 - on.py[line:56] - ERROR: Application startup failed. Exiting.
2024-01-16 15:24:22 - basereload.py[line:90] - INFO: Stopping reloader process [34248]
2024-01-16 15:25:04 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-16 15:25:04 - config.py[line:342] - INFO: Will watch for changes in these directories: ['D:\\CocosProject\\wb\\game_server\\src']
2024-01-16 15:25:04 - config.py[line:562] - INFO: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2024-01-16 15:25:04 - basereload.py[line:59] - INFO: Started reloader process [2140] using statreload
2024-01-16 15:25:04 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-16 15:25:05 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-16 15:25:05 - server.py[line:84] - INFO: Started server process [4548]
2024-01-16 15:25:05 - on.py[line:45] - INFO: Waiting for application startup.
2024-01-16 15:25:05 - on.py[line:119] - ERROR: Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 501, in _connect
    await self._request_authentication()
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 783, in _request_authentication
    auth_packet = await self._read_packet()
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 591, in _read_packet
    packet.check_error()
  File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.OperationalError: (1044, "Access denied for user 'meta1_xfx_hk'@'%' to database 'game_server'")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 635, in lifespan
    async with self.lifespan_context(app):
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 530, in __aenter__
    await self._router.startup()
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 612, in startup
    await handler()
  File "D:\CocosProject\wb\game_server\src\starter\main_start.py", line 79, in startup
    await db.connect()
  File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 89, in connect
    await self._backend.connect()
  File "D:\PyProject\game_server\venv\lib\site-packages\databases\backends\mysql.py", line 68, in connect
    **kwargs,
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\pool.py", line 29, in _create_pool
    await pool._fill_free_pool(False)
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\pool.py", line 168, in _fill_free_pool
    **self._conn_kwargs)
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 75, in _connect
    await conn._connect()
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 521, in _connect
    self._host) from e
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on '82.156.31.158'")

2024-01-16 15:25:05 - on.py[line:56] - ERROR: Application startup failed. Exiting.
2024-01-16 15:25:05 - basereload.py[line:90] - INFO: Stopping reloader process [2140]
2024-01-16 15:25:45 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-16 15:25:45 - config.py[line:342] - INFO: Will watch for changes in these directories: ['D:\\CocosProject\\wb\\game_server\\src']
2024-01-16 15:25:45 - config.py[line:562] - INFO: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2024-01-16 15:25:45 - basereload.py[line:59] - INFO: Started reloader process [4244] using statreload
2024-01-16 15:25:45 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-16 15:25:46 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-16 15:25:46 - server.py[line:84] - INFO: Started server process [33316]
2024-01-16 15:25:46 - on.py[line:45] - INFO: Waiting for application startup.
2024-01-16 15:25:46 - on.py[line:119] - ERROR: Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 501, in _connect
    await self._request_authentication()
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 783, in _request_authentication
    auth_packet = await self._read_packet()
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 591, in _read_packet
    packet.check_error()
  File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.OperationalError: (1044, "Access denied for user 'meta1_xfx_hk'@'%' to database 'game_server'")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 635, in lifespan
    async with self.lifespan_context(app):
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 530, in __aenter__
    await self._router.startup()
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 612, in startup
    await handler()
  File "D:\CocosProject\wb\game_server\src\starter\main_start.py", line 79, in startup
    await db.connect()
  File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 89, in connect
    await self._backend.connect()
  File "D:\PyProject\game_server\venv\lib\site-packages\databases\backends\mysql.py", line 68, in connect
    **kwargs,
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\pool.py", line 29, in _create_pool
    await pool._fill_free_pool(False)
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\pool.py", line 168, in _fill_free_pool
    **self._conn_kwargs)
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 75, in _connect
    await conn._connect()
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 521, in _connect
    self._host) from e
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on '82.156.31.158'")

2024-01-16 15:25:46 - on.py[line:56] - ERROR: Application startup failed. Exiting.
2024-01-16 15:25:46 - basereload.py[line:90] - INFO: Stopping reloader process [4244]
2024-01-16 15:26:23 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-16 15:26:23 - config.py[line:342] - INFO: Will watch for changes in these directories: ['D:\\CocosProject\\wb\\game_server\\src']
2024-01-16 15:26:23 - config.py[line:562] - INFO: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2024-01-16 15:26:23 - basereload.py[line:59] - INFO: Started reloader process [32524] using statreload
2024-01-16 15:26:23 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-16 15:26:24 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-16 15:26:24 - server.py[line:84] - INFO: Started server process [31988]
2024-01-16 15:26:24 - on.py[line:45] - INFO: Waiting for application startup.
2024-01-16 15:26:25 - core.py[line:91] - INFO: Connected to database mysql+pymysql://meta1_xfx_hk:********@82.156.31.158:3306/meta1_xfx_hk?charset=utf8mb4
2024-01-16 15:26:25 - on.py[line:59] - INFO: Application startup complete.
2024-01-16 15:30:33 - statreload.py[line:41] - WARNING: StatReload detected file change in 'server_module\server.py'. Reloading...
2024-01-16 15:30:33 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-16 15:30:34 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-16 15:30:34 - server.py[line:84] - INFO: Started server process [33468]
2024-01-16 15:30:34 - on.py[line:45] - INFO: Waiting for application startup.
2024-01-16 15:30:35 - core.py[line:91] - INFO: Connected to database mysql+pymysql://meta1_xfx_hk:********@82.156.31.158:3306/meta1_xfx_hk?charset=utf8mb4
2024-01-16 15:30:35 - on.py[line:59] - INFO: Application startup complete.
2024-01-16 15:42:21 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 5535) - "WebSocket /ws/1" [accepted]
2024-01-16 15:42:21 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-16 15:42:22 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-16 15:42:22 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-16 15:42:22 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-16 15:42:22 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-16 15:42:22 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-16 15:42:22 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-16 15:42:22 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-16 15:42:22 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-16 15:42:22 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-16 15:42:22 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-16 15:42:22 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-16 15:42:22 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-16 15:42:22 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-16 15:42:22 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-16 15:42:22 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-16 15:42:22 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-16 15:42:22 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-16 15:42:22 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 61, in connSucc
    dUser = await sqlplus.getOne(User, [User.id == user_id, ])

2024-01-16 15:42:22 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\sql\sqlplus.py", line 85, in getOne
    obj = await db.fetch_one(cls.__table__.select().where(*where).limit(1))

2024-01-16 15:42:22 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 155, in fetch_one
    return await connection.fetch_one(query, values)

2024-01-16 15:42:22 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 278, in fetch_one
    return await self._connection.fetch_one(built_query)

2024-01-16 15:42:22 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\databases\backends\mysql.py", line 129, in fetch_one
    await cursor.execute(query_str, args)

2024-01-16 15:42:22 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)

2024-01-16 15:42:22 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)

2024-01-16 15:42:22 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 428, in query
    await self._read_query_result(unbuffered=unbuffered)

2024-01-16 15:42:22 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 620, in _read_query_result
    await result.read()

2024-01-16 15:42:22 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 1103, in read
    first_packet = await self.connection._read_packet()

2024-01-16 15:42:22 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 591, in _read_packet
    packet.check_error()

2024-01-16 15:42:22 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)

2024-01-16 15:42:22 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)

2024-01-16 15:42:22 - log.py[line:18] - INFO: pymysql.err.ProgrammingError: (1146, "Table 'meta1_xfx_hk.user' doesn't exist")

2024-01-16 15:42:22 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 61, in connSucc
    dUser = await sqlplus.getOne(User, [User.id == user_id, ])
  File "D:\CocosProject\wb\game_server\src\sql\sqlplus.py", line 85, in getOne
    obj = await db.fetch_one(cls.__table__.select().where(*where).limit(1))
  File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 155, in fetch_one
    return await connection.fetch_one(query, values)
  File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 278, in fetch_one
    return await self._connection.fetch_one(built_query)
  File "D:\PyProject\game_server\venv\lib\site-packages\databases\backends\mysql.py", line 129, in fetch_one
    await cursor.execute(query_str, args)
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 428, in query
    await self._read_query_result(unbuffered=unbuffered)
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 620, in _read_query_result
    await result.read()
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 1103, in read
    first_packet = await self.connection._read_packet()
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 591, in _read_packet
    packet.check_error()
  File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.ProgrammingError: (1146, "Table 'meta1_xfx_hk.user' doesn't exist")
2024-01-16 15:42:27 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 5546) - "WebSocket /ws/1" [accepted]
2024-01-16 15:42:27 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-16 15:42:27 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-16 15:42:27 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-16 15:42:27 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-16 15:42:27 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-16 15:42:27 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-16 15:42:27 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-16 15:42:27 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-16 15:42:27 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-16 15:42:27 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-16 15:42:27 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-16 15:42:27 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-16 15:42:27 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-16 15:42:27 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-16 15:42:27 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-16 15:42:27 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-16 15:42:27 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-16 15:42:27 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-16 15:42:27 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-16 15:42:27 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-16 15:42:27 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 61, in connSucc
    dUser = await sqlplus.getOne(User, [User.id == user_id, ])

2024-01-16 15:42:27 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\sql\sqlplus.py", line 85, in getOne
    obj = await db.fetch_one(cls.__table__.select().where(*where).limit(1))

2024-01-16 15:42:27 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 155, in fetch_one
    return await connection.fetch_one(query, values)

2024-01-16 15:42:27 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 278, in fetch_one
    return await self._connection.fetch_one(built_query)

2024-01-16 15:42:27 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\databases\backends\mysql.py", line 129, in fetch_one
    await cursor.execute(query_str, args)

2024-01-16 15:42:27 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)

2024-01-16 15:42:27 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)

2024-01-16 15:42:27 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 428, in query
    await self._read_query_result(unbuffered=unbuffered)

2024-01-16 15:42:27 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 620, in _read_query_result
    await result.read()

2024-01-16 15:42:27 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 1103, in read
    first_packet = await self.connection._read_packet()

2024-01-16 15:42:27 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 591, in _read_packet
    packet.check_error()

2024-01-16 15:42:27 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)

2024-01-16 15:42:27 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)

2024-01-16 15:42:27 - log.py[line:18] - INFO: pymysql.err.ProgrammingError: (1146, "Table 'meta1_xfx_hk.user' doesn't exist")

2024-01-16 15:42:27 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 61, in connSucc
    dUser = await sqlplus.getOne(User, [User.id == user_id, ])
  File "D:\CocosProject\wb\game_server\src\sql\sqlplus.py", line 85, in getOne
    obj = await db.fetch_one(cls.__table__.select().where(*where).limit(1))
  File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 155, in fetch_one
    return await connection.fetch_one(query, values)
  File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 278, in fetch_one
    return await self._connection.fetch_one(built_query)
  File "D:\PyProject\game_server\venv\lib\site-packages\databases\backends\mysql.py", line 129, in fetch_one
    await cursor.execute(query_str, args)
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 428, in query
    await self._read_query_result(unbuffered=unbuffered)
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 620, in _read_query_result
    await result.read()
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 1103, in read
    first_packet = await self.connection._read_packet()
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 591, in _read_packet
    packet.check_error()
  File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.ProgrammingError: (1146, "Table 'meta1_xfx_hk.user' doesn't exist")
2024-01-16 15:42:32 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 5552) - "WebSocket /ws/1" [accepted]
2024-01-16 15:42:32 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-16 15:42:32 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-16 15:42:32 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-16 15:42:32 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-16 15:42:32 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-16 15:42:32 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-16 15:42:32 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-16 15:42:32 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-16 15:42:32 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-16 15:42:32 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-16 15:42:32 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-16 15:42:32 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-16 15:42:32 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-16 15:42:32 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-16 15:42:32 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-16 15:42:32 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-16 15:42:32 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-16 15:42:32 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-16 15:42:32 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-16 15:42:32 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-16 15:42:32 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 61, in connSucc
    dUser = await sqlplus.getOne(User, [User.id == user_id, ])

2024-01-16 15:42:32 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\sql\sqlplus.py", line 85, in getOne
    obj = await db.fetch_one(cls.__table__.select().where(*where).limit(1))

2024-01-16 15:42:32 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 155, in fetch_one
    return await connection.fetch_one(query, values)

2024-01-16 15:42:32 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 278, in fetch_one
    return await self._connection.fetch_one(built_query)

2024-01-16 15:42:32 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\databases\backends\mysql.py", line 129, in fetch_one
    await cursor.execute(query_str, args)

2024-01-16 15:42:32 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)

2024-01-16 15:42:32 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)

2024-01-16 15:42:32 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 428, in query
    await self._read_query_result(unbuffered=unbuffered)

2024-01-16 15:42:32 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 620, in _read_query_result
    await result.read()

2024-01-16 15:42:32 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 1103, in read
    first_packet = await self.connection._read_packet()

2024-01-16 15:42:32 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 591, in _read_packet
    packet.check_error()

2024-01-16 15:42:32 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)

2024-01-16 15:42:32 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)

2024-01-16 15:42:32 - log.py[line:18] - INFO: pymysql.err.ProgrammingError: (1146, "Table 'meta1_xfx_hk.user' doesn't exist")

2024-01-16 15:42:32 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 61, in connSucc
    dUser = await sqlplus.getOne(User, [User.id == user_id, ])
  File "D:\CocosProject\wb\game_server\src\sql\sqlplus.py", line 85, in getOne
    obj = await db.fetch_one(cls.__table__.select().where(*where).limit(1))
  File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 155, in fetch_one
    return await connection.fetch_one(query, values)
  File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 278, in fetch_one
    return await self._connection.fetch_one(built_query)
  File "D:\PyProject\game_server\venv\lib\site-packages\databases\backends\mysql.py", line 129, in fetch_one
    await cursor.execute(query_str, args)
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 428, in query
    await self._read_query_result(unbuffered=unbuffered)
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 620, in _read_query_result
    await result.read()
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 1103, in read
    first_packet = await self.connection._read_packet()
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 591, in _read_packet
    packet.check_error()
  File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.ProgrammingError: (1146, "Table 'meta1_xfx_hk.user' doesn't exist")
2024-01-16 15:42:37 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 5558) - "WebSocket /ws/1" [accepted]
2024-01-16 15:42:37 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-16 15:42:37 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-16 15:42:37 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-16 15:42:37 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-16 15:42:37 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-16 15:42:37 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-16 15:42:37 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-16 15:42:37 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-16 15:42:37 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-16 15:42:37 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-16 15:42:37 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-16 15:42:37 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-16 15:42:37 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-16 15:42:37 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-16 15:42:37 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-16 15:42:37 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-16 15:42:37 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-16 15:42:37 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-16 15:42:37 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-16 15:42:37 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-16 15:42:37 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 61, in connSucc
    dUser = await sqlplus.getOne(User, [User.id == user_id, ])

2024-01-16 15:42:37 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\sql\sqlplus.py", line 85, in getOne
    obj = await db.fetch_one(cls.__table__.select().where(*where).limit(1))

2024-01-16 15:42:37 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 155, in fetch_one
    return await connection.fetch_one(query, values)

2024-01-16 15:42:37 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 278, in fetch_one
    return await self._connection.fetch_one(built_query)

2024-01-16 15:42:37 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\databases\backends\mysql.py", line 129, in fetch_one
    await cursor.execute(query_str, args)

2024-01-16 15:42:37 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)

2024-01-16 15:42:37 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)

2024-01-16 15:42:37 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 428, in query
    await self._read_query_result(unbuffered=unbuffered)

2024-01-16 15:42:37 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 620, in _read_query_result
    await result.read()

2024-01-16 15:42:37 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 1103, in read
    first_packet = await self.connection._read_packet()

2024-01-16 15:42:37 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 591, in _read_packet
    packet.check_error()

2024-01-16 15:42:37 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)

2024-01-16 15:42:37 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)

2024-01-16 15:42:37 - log.py[line:18] - INFO: pymysql.err.ProgrammingError: (1146, "Table 'meta1_xfx_hk.user' doesn't exist")

2024-01-16 15:42:37 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 61, in connSucc
    dUser = await sqlplus.getOne(User, [User.id == user_id, ])
  File "D:\CocosProject\wb\game_server\src\sql\sqlplus.py", line 85, in getOne
    obj = await db.fetch_one(cls.__table__.select().where(*where).limit(1))
  File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 155, in fetch_one
    return await connection.fetch_one(query, values)
  File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 278, in fetch_one
    return await self._connection.fetch_one(built_query)
  File "D:\PyProject\game_server\venv\lib\site-packages\databases\backends\mysql.py", line 129, in fetch_one
    await cursor.execute(query_str, args)
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 428, in query
    await self._read_query_result(unbuffered=unbuffered)
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 620, in _read_query_result
    await result.read()
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 1103, in read
    first_packet = await self.connection._read_packet()
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 591, in _read_packet
    packet.check_error()
  File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.ProgrammingError: (1146, "Table 'meta1_xfx_hk.user' doesn't exist")
2024-01-16 15:42:42 - statreload.py[line:41] - WARNING: StatReload detected file change in 'entity\common.py'. Reloading...
2024-01-16 15:42:42 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 5567) - "WebSocket /ws/1" [accepted]
2024-01-16 15:42:42 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-16 15:42:43 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-16 15:42:43 - server.py[line:84] - INFO: Started server process [31032]
2024-01-16 15:42:43 - on.py[line:45] - INFO: Waiting for application startup.
2024-01-16 15:42:44 - core.py[line:91] - INFO: Connected to database mysql+pymysql://meta1_xfx_hk:********@82.156.31.158:3306/meta1_xfx_hk?charset=utf8mb4
2024-01-16 15:42:44 - on.py[line:59] - INFO: Application startup complete.
2024-01-16 15:42:48 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 5593) - "WebSocket /ws/1" [accepted]
2024-01-16 15:42:48 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-16 15:42:48 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-16 15:42:48 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-16 15:42:48 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-16 15:42:48 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-16 15:42:48 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-16 15:42:48 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-16 15:42:48 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-16 15:42:48 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-16 15:42:48 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-16 15:42:48 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-16 15:42:48 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-16 15:42:48 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-16 15:42:48 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-16 15:42:48 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-16 15:42:48 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-16 15:42:48 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-16 15:42:48 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-16 15:42:48 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 61, in connSucc
    dUser = await sqlplus.getOne(User, [User.id == user_id, ])

2024-01-16 15:42:48 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\sql\sqlplus.py", line 85, in getOne
    obj = await db.fetch_one(cls.__table__.select().where(*where).limit(1))

2024-01-16 15:42:48 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 155, in fetch_one
    return await connection.fetch_one(query, values)

2024-01-16 15:42:48 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 278, in fetch_one
    return await self._connection.fetch_one(built_query)

2024-01-16 15:42:48 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\databases\backends\mysql.py", line 129, in fetch_one
    await cursor.execute(query_str, args)

2024-01-16 15:42:48 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)

2024-01-16 15:42:48 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)

2024-01-16 15:42:48 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 428, in query
    await self._read_query_result(unbuffered=unbuffered)

2024-01-16 15:42:48 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 620, in _read_query_result
    await result.read()

2024-01-16 15:42:48 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 1103, in read
    first_packet = await self.connection._read_packet()

2024-01-16 15:42:48 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 591, in _read_packet
    packet.check_error()

2024-01-16 15:42:48 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)

2024-01-16 15:42:48 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)

2024-01-16 15:42:48 - log.py[line:18] - INFO: pymysql.err.InternalError: (1054, "Unknown column 'users.is_delete' in 'field list'")

2024-01-16 15:42:48 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 61, in connSucc
    dUser = await sqlplus.getOne(User, [User.id == user_id, ])
  File "D:\CocosProject\wb\game_server\src\sql\sqlplus.py", line 85, in getOne
    obj = await db.fetch_one(cls.__table__.select().where(*where).limit(1))
  File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 155, in fetch_one
    return await connection.fetch_one(query, values)
  File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 278, in fetch_one
    return await self._connection.fetch_one(built_query)
  File "D:\PyProject\game_server\venv\lib\site-packages\databases\backends\mysql.py", line 129, in fetch_one
    await cursor.execute(query_str, args)
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 428, in query
    await self._read_query_result(unbuffered=unbuffered)
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 620, in _read_query_result
    await result.read()
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 1103, in read
    first_packet = await self.connection._read_packet()
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 591, in _read_packet
    packet.check_error()
  File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.InternalError: (1054, "Unknown column 'users.is_delete' in 'field list'")
2024-01-16 15:42:53 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 5601) - "WebSocket /ws/1" [accepted]
2024-01-16 15:42:53 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-16 15:42:53 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-16 15:42:53 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-16 15:42:53 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-16 15:42:53 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-16 15:42:53 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-16 15:42:53 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-16 15:42:53 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-16 15:42:53 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-16 15:42:53 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-16 15:42:53 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-16 15:42:53 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-16 15:42:53 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-16 15:42:53 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-16 15:42:53 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-16 15:42:53 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-16 15:42:53 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-16 15:42:53 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-16 15:42:53 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-16 15:42:53 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-16 15:42:53 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 61, in connSucc
    dUser = await sqlplus.getOne(User, [User.id == user_id, ])

2024-01-16 15:42:53 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\sql\sqlplus.py", line 85, in getOne
    obj = await db.fetch_one(cls.__table__.select().where(*where).limit(1))

2024-01-16 15:42:53 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 155, in fetch_one
    return await connection.fetch_one(query, values)

2024-01-16 15:42:53 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 278, in fetch_one
    return await self._connection.fetch_one(built_query)

2024-01-16 15:42:53 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\databases\backends\mysql.py", line 129, in fetch_one
    await cursor.execute(query_str, args)

2024-01-16 15:42:53 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)

2024-01-16 15:42:53 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)

2024-01-16 15:42:53 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 428, in query
    await self._read_query_result(unbuffered=unbuffered)

2024-01-16 15:42:53 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 620, in _read_query_result
    await result.read()

2024-01-16 15:42:53 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 1103, in read
    first_packet = await self.connection._read_packet()

2024-01-16 15:42:53 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 591, in _read_packet
    packet.check_error()

2024-01-16 15:42:53 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)

2024-01-16 15:42:53 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)

2024-01-16 15:42:53 - log.py[line:18] - INFO: pymysql.err.InternalError: (1054, "Unknown column 'users.is_delete' in 'field list'")

2024-01-16 15:42:53 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 61, in connSucc
    dUser = await sqlplus.getOne(User, [User.id == user_id, ])
  File "D:\CocosProject\wb\game_server\src\sql\sqlplus.py", line 85, in getOne
    obj = await db.fetch_one(cls.__table__.select().where(*where).limit(1))
  File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 155, in fetch_one
    return await connection.fetch_one(query, values)
  File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 278, in fetch_one
    return await self._connection.fetch_one(built_query)
  File "D:\PyProject\game_server\venv\lib\site-packages\databases\backends\mysql.py", line 129, in fetch_one
    await cursor.execute(query_str, args)
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 428, in query
    await self._read_query_result(unbuffered=unbuffered)
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 620, in _read_query_result
    await result.read()
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 1103, in read
    first_packet = await self.connection._read_packet()
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 591, in _read_packet
    packet.check_error()
  File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.InternalError: (1054, "Unknown column 'users.is_delete' in 'field list'")
2024-01-16 15:42:55 - basereload.py[line:90] - INFO: Stopping reloader process [32524]
2024-01-16 16:07:01 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-16 16:07:01 - config.py[line:342] - INFO: Will watch for changes in these directories: ['D:\\CocosProject\\wb\\game_server\\src']
2024-01-16 16:07:01 - config.py[line:562] - INFO: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2024-01-16 16:07:01 - basereload.py[line:59] - INFO: Started reloader process [36428] using statreload
2024-01-16 16:07:01 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-16 16:07:02 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-16 16:07:02 - server.py[line:84] - INFO: Started server process [11828]
2024-01-16 16:07:02 - on.py[line:45] - INFO: Waiting for application startup.
2024-01-16 16:07:03 - core.py[line:91] - INFO: Connected to database mysql+pymysql://meta1_xfx_hk:********@82.156.31.158:3306/meta1_xfx_hk?charset=utf8mb4
2024-01-16 16:07:03 - on.py[line:59] - INFO: Application startup complete.
2024-01-16 16:07:14 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 7733) - "WebSocket /ws/1" [accepted]
2024-01-16 16:07:14 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-16 16:07:14 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-16 16:07:14 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-16 16:07:14 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-16 16:07:14 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-16 16:07:14 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-16 16:07:14 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-16 16:07:14 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-16 16:07:14 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-16 16:07:14 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-16 16:07:14 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-16 16:07:14 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-16 16:07:14 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-16 16:07:14 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-16 16:07:14 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-16 16:07:14 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-16 16:07:14 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-16 16:07:14 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-16 16:07:14 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 61, in connSucc
    dUser = await sqlplus.getOne(User, [User.id == user_id, ])

2024-01-16 16:07:14 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\sql\sqlplus.py", line 85, in getOne
    obj = await db.fetch_one(cls.__table__.select().where(*where).limit(1))

2024-01-16 16:07:14 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 155, in fetch_one
    return await connection.fetch_one(query, values)

2024-01-16 16:07:14 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 278, in fetch_one
    return await self._connection.fetch_one(built_query)

2024-01-16 16:07:14 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\databases\backends\mysql.py", line 129, in fetch_one
    await cursor.execute(query_str, args)

2024-01-16 16:07:14 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)

2024-01-16 16:07:14 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)

2024-01-16 16:07:14 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 428, in query
    await self._read_query_result(unbuffered=unbuffered)

2024-01-16 16:07:14 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 620, in _read_query_result
    await result.read()

2024-01-16 16:07:14 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 1103, in read
    first_packet = await self.connection._read_packet()

2024-01-16 16:07:14 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 591, in _read_packet
    packet.check_error()

2024-01-16 16:07:14 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)

2024-01-16 16:07:14 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)

2024-01-16 16:07:14 - log.py[line:18] - INFO: pymysql.err.InternalError: (1054, "Unknown column 'users.is_delete' in 'field list'")

2024-01-16 16:07:14 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 61, in connSucc
    dUser = await sqlplus.getOne(User, [User.id == user_id, ])
  File "D:\CocosProject\wb\game_server\src\sql\sqlplus.py", line 85, in getOne
    obj = await db.fetch_one(cls.__table__.select().where(*where).limit(1))
  File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 155, in fetch_one
    return await connection.fetch_one(query, values)
  File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 278, in fetch_one
    return await self._connection.fetch_one(built_query)
  File "D:\PyProject\game_server\venv\lib\site-packages\databases\backends\mysql.py", line 129, in fetch_one
    await cursor.execute(query_str, args)
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 428, in query
    await self._read_query_result(unbuffered=unbuffered)
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 620, in _read_query_result
    await result.read()
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 1103, in read
    first_packet = await self.connection._read_packet()
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 591, in _read_packet
    packet.check_error()
  File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.InternalError: (1054, "Unknown column 'users.is_delete' in 'field list'")
2024-01-16 16:07:19 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 7741) - "WebSocket /ws/1" [accepted]
2024-01-16 16:07:19 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-16 16:07:19 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-16 16:07:19 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-16 16:07:19 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-16 16:07:19 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-16 16:07:19 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-16 16:07:19 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-16 16:07:19 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-16 16:07:19 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-16 16:07:19 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-16 16:07:19 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-16 16:07:19 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-16 16:07:19 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-16 16:07:19 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-16 16:07:19 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-16 16:07:19 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-16 16:07:19 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-16 16:07:19 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-16 16:07:19 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-16 16:07:19 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-16 16:07:19 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 61, in connSucc
    dUser = await sqlplus.getOne(User, [User.id == user_id, ])

2024-01-16 16:07:19 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\sql\sqlplus.py", line 85, in getOne
    obj = await db.fetch_one(cls.__table__.select().where(*where).limit(1))

2024-01-16 16:07:19 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 155, in fetch_one
    return await connection.fetch_one(query, values)

2024-01-16 16:07:19 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 278, in fetch_one
    return await self._connection.fetch_one(built_query)

2024-01-16 16:07:19 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\databases\backends\mysql.py", line 129, in fetch_one
    await cursor.execute(query_str, args)

2024-01-16 16:07:19 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)

2024-01-16 16:07:19 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)

2024-01-16 16:07:19 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 428, in query
    await self._read_query_result(unbuffered=unbuffered)

2024-01-16 16:07:19 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 620, in _read_query_result
    await result.read()

2024-01-16 16:07:19 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 1103, in read
    first_packet = await self.connection._read_packet()

2024-01-16 16:07:19 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 591, in _read_packet
    packet.check_error()

2024-01-16 16:07:19 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)

2024-01-16 16:07:19 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)

2024-01-16 16:07:19 - log.py[line:18] - INFO: pymysql.err.InternalError: (1054, "Unknown column 'users.is_delete' in 'field list'")

2024-01-16 16:07:19 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 61, in connSucc
    dUser = await sqlplus.getOne(User, [User.id == user_id, ])
  File "D:\CocosProject\wb\game_server\src\sql\sqlplus.py", line 85, in getOne
    obj = await db.fetch_one(cls.__table__.select().where(*where).limit(1))
  File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 155, in fetch_one
    return await connection.fetch_one(query, values)
  File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 278, in fetch_one
    return await self._connection.fetch_one(built_query)
  File "D:\PyProject\game_server\venv\lib\site-packages\databases\backends\mysql.py", line 129, in fetch_one
    await cursor.execute(query_str, args)
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 428, in query
    await self._read_query_result(unbuffered=unbuffered)
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 620, in _read_query_result
    await result.read()
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 1103, in read
    first_packet = await self.connection._read_packet()
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 591, in _read_packet
    packet.check_error()
  File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.InternalError: (1054, "Unknown column 'users.is_delete' in 'field list'")
2024-01-16 16:07:20 - server.py[line:263] - INFO: Shutting down
2024-01-16 17:43:52 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-16 17:43:52 - config.py[line:342] - INFO: Will watch for changes in these directories: ['D:\\CocosProject\\wb\\game_server\\src']
2024-01-16 17:43:52 - config.py[line:562] - INFO: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2024-01-16 17:43:52 - basereload.py[line:59] - INFO: Started reloader process [12572] using statreload
2024-01-16 17:43:53 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-16 17:43:54 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-16 17:43:54 - server.py[line:84] - INFO: Started server process [15456]
2024-01-16 17:43:54 - on.py[line:45] - INFO: Waiting for application startup.
2024-01-16 17:43:54 - core.py[line:91] - INFO: Connected to database mysql+pymysql://meta1_xfx_hk:********@82.156.31.158:3306/meta1_xfx_hk?charset=utf8mb4
2024-01-16 17:43:54 - on.py[line:59] - INFO: Application startup complete.
2024-01-16 17:43:56 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6799) - "WebSocket /ws/1" [accepted]
2024-01-16 17:43:56 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-16 17:43:56 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-16 17:43:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-16 17:43:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-16 17:43:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-16 17:43:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-16 17:43:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-16 17:43:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-16 17:43:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-16 17:43:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-16 17:43:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-16 17:43:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-16 17:43:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-16 17:43:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-16 17:43:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-16 17:43:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-16 17:43:56 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-16 17:43:56 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-16 17:43:56 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 61, in connSucc
    dUser = await sqlplus.getOne(User, [User.id == user_id, ])

2024-01-16 17:43:56 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\sql\sqlplus.py", line 85, in getOne
    obj = await db.fetch_one(cls.__table__.select().where(*where).limit(1))

2024-01-16 17:43:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 155, in fetch_one
    return await connection.fetch_one(query, values)

2024-01-16 17:43:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 278, in fetch_one
    return await self._connection.fetch_one(built_query)

2024-01-16 17:43:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\databases\backends\mysql.py", line 129, in fetch_one
    await cursor.execute(query_str, args)

2024-01-16 17:43:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)

2024-01-16 17:43:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)

2024-01-16 17:43:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 428, in query
    await self._read_query_result(unbuffered=unbuffered)

2024-01-16 17:43:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 620, in _read_query_result
    await result.read()

2024-01-16 17:43:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 1103, in read
    first_packet = await self.connection._read_packet()

2024-01-16 17:43:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 591, in _read_packet
    packet.check_error()

2024-01-16 17:43:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)

2024-01-16 17:43:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)

2024-01-16 17:43:56 - log.py[line:18] - INFO: pymysql.err.InternalError: (1054, "Unknown column 'users.is_delete' in 'field list'")

2024-01-16 17:43:56 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 61, in connSucc
    dUser = await sqlplus.getOne(User, [User.id == user_id, ])
  File "D:\CocosProject\wb\game_server\src\sql\sqlplus.py", line 85, in getOne
    obj = await db.fetch_one(cls.__table__.select().where(*where).limit(1))
  File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 155, in fetch_one
    return await connection.fetch_one(query, values)
  File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 278, in fetch_one
    return await self._connection.fetch_one(built_query)
  File "D:\PyProject\game_server\venv\lib\site-packages\databases\backends\mysql.py", line 129, in fetch_one
    await cursor.execute(query_str, args)
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 428, in query
    await self._read_query_result(unbuffered=unbuffered)
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 620, in _read_query_result
    await result.read()
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 1103, in read
    first_packet = await self.connection._read_packet()
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 591, in _read_packet
    packet.check_error()
  File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.InternalError: (1054, "Unknown column 'users.is_delete' in 'field list'")
2024-01-16 17:43:57 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6806) - "WebSocket /ws/1" [accepted]
2024-01-16 17:43:57 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-16 17:43:57 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-16 17:43:57 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-16 17:43:57 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-16 17:43:57 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-16 17:43:57 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-16 17:43:57 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-16 17:43:57 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-16 17:43:57 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-16 17:43:57 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-16 17:43:57 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-16 17:43:57 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-16 17:43:57 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-16 17:43:57 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-16 17:43:57 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-16 17:43:57 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-16 17:43:57 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-16 17:43:57 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-16 17:43:57 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-16 17:43:57 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-16 17:43:57 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 61, in connSucc
    dUser = await sqlplus.getOne(User, [User.id == user_id, ])

2024-01-16 17:43:57 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\sql\sqlplus.py", line 85, in getOne
    obj = await db.fetch_one(cls.__table__.select().where(*where).limit(1))

2024-01-16 17:43:57 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 155, in fetch_one
    return await connection.fetch_one(query, values)

2024-01-16 17:43:57 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 278, in fetch_one
    return await self._connection.fetch_one(built_query)

2024-01-16 17:43:57 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\databases\backends\mysql.py", line 129, in fetch_one
    await cursor.execute(query_str, args)

2024-01-16 17:43:57 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)

2024-01-16 17:43:57 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)

2024-01-16 17:43:57 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 428, in query
    await self._read_query_result(unbuffered=unbuffered)

2024-01-16 17:43:57 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 620, in _read_query_result
    await result.read()

2024-01-16 17:43:57 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 1103, in read
    first_packet = await self.connection._read_packet()

2024-01-16 17:43:57 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 591, in _read_packet
    packet.check_error()

2024-01-16 17:43:57 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)

2024-01-16 17:43:57 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)

2024-01-16 17:43:57 - log.py[line:18] - INFO: pymysql.err.InternalError: (1054, "Unknown column 'users.is_delete' in 'field list'")

2024-01-16 17:43:57 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 61, in connSucc
    dUser = await sqlplus.getOne(User, [User.id == user_id, ])
  File "D:\CocosProject\wb\game_server\src\sql\sqlplus.py", line 85, in getOne
    obj = await db.fetch_one(cls.__table__.select().where(*where).limit(1))
  File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 155, in fetch_one
    return await connection.fetch_one(query, values)
  File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 278, in fetch_one
    return await self._connection.fetch_one(built_query)
  File "D:\PyProject\game_server\venv\lib\site-packages\databases\backends\mysql.py", line 129, in fetch_one
    await cursor.execute(query_str, args)
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 428, in query
    await self._read_query_result(unbuffered=unbuffered)
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 620, in _read_query_result
    await result.read()
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 1103, in read
    first_packet = await self.connection._read_packet()
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 591, in _read_packet
    packet.check_error()
  File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.InternalError: (1054, "Unknown column 'users.is_delete' in 'field list'")
2024-01-16 17:44:02 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6811) - "WebSocket /ws/1" [accepted]
2024-01-16 17:44:02 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-16 17:44:02 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-16 17:44:02 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-16 17:44:02 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-16 17:44:02 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-16 17:44:02 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-16 17:44:02 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-16 17:44:02 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-16 17:44:02 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-16 17:44:02 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-16 17:44:02 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-16 17:44:02 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-16 17:44:02 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-16 17:44:02 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-16 17:44:02 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-16 17:44:02 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-16 17:44:02 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-16 17:44:02 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-16 17:44:02 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-16 17:44:02 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-16 17:44:02 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 61, in connSucc
    dUser = await sqlplus.getOne(User, [User.id == user_id, ])

2024-01-16 17:44:02 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\sql\sqlplus.py", line 85, in getOne
    obj = await db.fetch_one(cls.__table__.select().where(*where).limit(1))

2024-01-16 17:44:02 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 155, in fetch_one
    return await connection.fetch_one(query, values)

2024-01-16 17:44:02 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 278, in fetch_one
    return await self._connection.fetch_one(built_query)

2024-01-16 17:44:02 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\databases\backends\mysql.py", line 129, in fetch_one
    await cursor.execute(query_str, args)

2024-01-16 17:44:02 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)

2024-01-16 17:44:02 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)

2024-01-16 17:44:02 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 428, in query
    await self._read_query_result(unbuffered=unbuffered)

2024-01-16 17:44:02 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 620, in _read_query_result
    await result.read()

2024-01-16 17:44:02 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 1103, in read
    first_packet = await self.connection._read_packet()

2024-01-16 17:44:02 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 591, in _read_packet
    packet.check_error()

2024-01-16 17:44:02 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)

2024-01-16 17:44:02 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)

2024-01-16 17:44:02 - log.py[line:18] - INFO: pymysql.err.InternalError: (1054, "Unknown column 'users.is_delete' in 'field list'")

2024-01-16 17:44:02 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 61, in connSucc
    dUser = await sqlplus.getOne(User, [User.id == user_id, ])
  File "D:\CocosProject\wb\game_server\src\sql\sqlplus.py", line 85, in getOne
    obj = await db.fetch_one(cls.__table__.select().where(*where).limit(1))
  File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 155, in fetch_one
    return await connection.fetch_one(query, values)
  File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 278, in fetch_one
    return await self._connection.fetch_one(built_query)
  File "D:\PyProject\game_server\venv\lib\site-packages\databases\backends\mysql.py", line 129, in fetch_one
    await cursor.execute(query_str, args)
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 428, in query
    await self._read_query_result(unbuffered=unbuffered)
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 620, in _read_query_result
    await result.read()
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 1103, in read
    first_packet = await self.connection._read_packet()
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 591, in _read_packet
    packet.check_error()
  File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.InternalError: (1054, "Unknown column 'users.is_delete' in 'field list'")
2024-01-16 17:44:07 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6819) - "WebSocket /ws/1" [accepted]
2024-01-16 17:44:07 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-16 17:44:07 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-16 17:44:07 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-16 17:44:07 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-16 17:44:07 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-16 17:44:07 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-16 17:44:07 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-16 17:44:07 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-16 17:44:07 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-16 17:44:07 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-16 17:44:07 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-16 17:44:07 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-16 17:44:07 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-16 17:44:07 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-16 17:44:07 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-16 17:44:07 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-16 17:44:07 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-16 17:44:07 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-16 17:44:07 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-16 17:44:07 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-16 17:44:07 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 61, in connSucc
    dUser = await sqlplus.getOne(User, [User.id == user_id, ])

2024-01-16 17:44:07 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\sql\sqlplus.py", line 85, in getOne
    obj = await db.fetch_one(cls.__table__.select().where(*where).limit(1))

2024-01-16 17:44:07 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 155, in fetch_one
    return await connection.fetch_one(query, values)

2024-01-16 17:44:07 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 278, in fetch_one
    return await self._connection.fetch_one(built_query)

2024-01-16 17:44:07 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\databases\backends\mysql.py", line 129, in fetch_one
    await cursor.execute(query_str, args)

2024-01-16 17:44:07 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)

2024-01-16 17:44:07 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)

2024-01-16 17:44:07 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 428, in query
    await self._read_query_result(unbuffered=unbuffered)

2024-01-16 17:44:07 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 620, in _read_query_result
    await result.read()

2024-01-16 17:44:07 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 1103, in read
    first_packet = await self.connection._read_packet()

2024-01-16 17:44:07 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 591, in _read_packet
    packet.check_error()

2024-01-16 17:44:07 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)

2024-01-16 17:44:07 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)

2024-01-16 17:44:07 - log.py[line:18] - INFO: pymysql.err.InternalError: (1054, "Unknown column 'users.is_delete' in 'field list'")

2024-01-16 17:44:07 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 61, in connSucc
    dUser = await sqlplus.getOne(User, [User.id == user_id, ])
  File "D:\CocosProject\wb\game_server\src\sql\sqlplus.py", line 85, in getOne
    obj = await db.fetch_one(cls.__table__.select().where(*where).limit(1))
  File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 155, in fetch_one
    return await connection.fetch_one(query, values)
  File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 278, in fetch_one
    return await self._connection.fetch_one(built_query)
  File "D:\PyProject\game_server\venv\lib\site-packages\databases\backends\mysql.py", line 129, in fetch_one
    await cursor.execute(query_str, args)
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 428, in query
    await self._read_query_result(unbuffered=unbuffered)
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 620, in _read_query_result
    await result.read()
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 1103, in read
    first_packet = await self.connection._read_packet()
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 591, in _read_packet
    packet.check_error()
  File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.InternalError: (1054, "Unknown column 'users.is_delete' in 'field list'")
2024-01-16 17:44:13 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6837) - "WebSocket /ws/1" [accepted]
2024-01-16 17:44:13 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-16 17:44:13 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-16 17:44:13 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-16 17:44:13 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-16 17:44:13 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-16 17:44:13 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-16 17:44:13 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-16 17:44:13 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-16 17:44:13 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-16 17:44:13 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-16 17:44:13 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-16 17:44:13 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-16 17:44:13 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-16 17:44:13 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-16 17:44:13 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-16 17:44:13 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-16 17:44:13 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-16 17:44:13 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-16 17:44:13 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-16 17:44:13 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-16 17:44:13 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 61, in connSucc
    dUser = await sqlplus.getOne(User, [User.id == user_id, ])

2024-01-16 17:44:13 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\sql\sqlplus.py", line 85, in getOne
    obj = await db.fetch_one(cls.__table__.select().where(*where).limit(1))

2024-01-16 17:44:13 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 155, in fetch_one
    return await connection.fetch_one(query, values)

2024-01-16 17:44:13 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 278, in fetch_one
    return await self._connection.fetch_one(built_query)

2024-01-16 17:44:13 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\databases\backends\mysql.py", line 129, in fetch_one
    await cursor.execute(query_str, args)

2024-01-16 17:44:13 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)

2024-01-16 17:44:13 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)

2024-01-16 17:44:13 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 428, in query
    await self._read_query_result(unbuffered=unbuffered)

2024-01-16 17:44:13 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 620, in _read_query_result
    await result.read()

2024-01-16 17:44:13 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 1103, in read
    first_packet = await self.connection._read_packet()

2024-01-16 17:44:13 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 591, in _read_packet
    packet.check_error()

2024-01-16 17:44:13 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)

2024-01-16 17:44:13 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)

2024-01-16 17:44:13 - log.py[line:18] - INFO: pymysql.err.InternalError: (1054, "Unknown column 'users.is_delete' in 'field list'")

2024-01-16 17:44:13 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 61, in connSucc
    dUser = await sqlplus.getOne(User, [User.id == user_id, ])
  File "D:\CocosProject\wb\game_server\src\sql\sqlplus.py", line 85, in getOne
    obj = await db.fetch_one(cls.__table__.select().where(*where).limit(1))
  File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 155, in fetch_one
    return await connection.fetch_one(query, values)
  File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 278, in fetch_one
    return await self._connection.fetch_one(built_query)
  File "D:\PyProject\game_server\venv\lib\site-packages\databases\backends\mysql.py", line 129, in fetch_one
    await cursor.execute(query_str, args)
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 428, in query
    await self._read_query_result(unbuffered=unbuffered)
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 620, in _read_query_result
    await result.read()
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 1103, in read
    first_packet = await self.connection._read_packet()
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 591, in _read_packet
    packet.check_error()
  File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.InternalError: (1054, "Unknown column 'users.is_delete' in 'field list'")
2024-01-16 17:44:19 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6852) - "WebSocket /ws/1" [accepted]
2024-01-16 17:44:19 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-16 17:44:19 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-16 17:44:19 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-16 17:44:19 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-16 17:44:19 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-16 17:44:19 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-16 17:44:19 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-16 17:44:19 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-16 17:44:19 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-16 17:44:19 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-16 17:44:19 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-16 17:44:19 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-16 17:44:19 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-16 17:44:19 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-16 17:44:19 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-16 17:44:19 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-16 17:44:19 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-16 17:44:19 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-16 17:44:19 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-16 17:44:19 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-16 17:44:19 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 61, in connSucc
    dUser = await sqlplus.getOne(User, [User.id == user_id, ])

2024-01-16 17:44:19 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\sql\sqlplus.py", line 85, in getOne
    obj = await db.fetch_one(cls.__table__.select().where(*where).limit(1))

2024-01-16 17:44:19 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 155, in fetch_one
    return await connection.fetch_one(query, values)

2024-01-16 17:44:19 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 278, in fetch_one
    return await self._connection.fetch_one(built_query)

2024-01-16 17:44:19 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\databases\backends\mysql.py", line 129, in fetch_one
    await cursor.execute(query_str, args)

2024-01-16 17:44:19 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)

2024-01-16 17:44:19 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)

2024-01-16 17:44:19 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 428, in query
    await self._read_query_result(unbuffered=unbuffered)

2024-01-16 17:44:19 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 620, in _read_query_result
    await result.read()

2024-01-16 17:44:19 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 1103, in read
    first_packet = await self.connection._read_packet()

2024-01-16 17:44:19 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 591, in _read_packet
    packet.check_error()

2024-01-16 17:44:19 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)

2024-01-16 17:44:19 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)

2024-01-16 17:44:19 - log.py[line:18] - INFO: pymysql.err.InternalError: (1054, "Unknown column 'users.is_delete' in 'field list'")

2024-01-16 17:44:19 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 61, in connSucc
    dUser = await sqlplus.getOne(User, [User.id == user_id, ])
  File "D:\CocosProject\wb\game_server\src\sql\sqlplus.py", line 85, in getOne
    obj = await db.fetch_one(cls.__table__.select().where(*where).limit(1))
  File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 155, in fetch_one
    return await connection.fetch_one(query, values)
  File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 278, in fetch_one
    return await self._connection.fetch_one(built_query)
  File "D:\PyProject\game_server\venv\lib\site-packages\databases\backends\mysql.py", line 129, in fetch_one
    await cursor.execute(query_str, args)
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 428, in query
    await self._read_query_result(unbuffered=unbuffered)
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 620, in _read_query_result
    await result.read()
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 1103, in read
    first_packet = await self.connection._read_packet()
  File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 591, in _read_packet
    packet.check_error()
  File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.InternalError: (1054, "Unknown column 'users.is_delete' in 'field list'")
2024-01-16 17:44:43 - server.py[line:263] - INFO: Shutting down
2024-01-16 18:36:36 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-16 18:36:37 - config.py[line:342] - INFO: Will watch for changes in these directories: ['D:\\CocosProject\\wb\\game_server\\src']
2024-01-16 18:36:37 - config.py[line:562] - INFO: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2024-01-16 18:36:37 - basereload.py[line:59] - INFO: Started reloader process [35860] using statreload
2024-01-16 18:36:37 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-16 18:36:38 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-16 18:36:38 - server.py[line:84] - INFO: Started server process [16656]
2024-01-16 18:36:38 - on.py[line:45] - INFO: Waiting for application startup.
2024-01-16 18:36:38 - core.py[line:91] - INFO: Connected to database mysql+pymysql://meta1_xfx_hk:********@82.156.31.158:3306/meta1_xfx_hk?charset=utf8mb4
2024-01-16 18:36:38 - on.py[line:59] - INFO: Application startup complete.
2024-01-16 18:36:41 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 13323) - "WebSocket /ws/1" [accepted]
2024-01-16 18:36:41 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-16 18:36:41 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-16 18:36:41 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler.py", line 24, in wrapper
    resp = await func(*args, **kwargs)

2024-01-16 18:36:41 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler.py", line 65, in handle_msg
    await self.handler_module[data["type"]].handle(proto_util.from_json_dict(data))

2024-01-16 18:36:41 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler_module\handler_hero.py", line 20, in handle
    await getattr(obj, data["func"])(data["user_id"], data)

2024-01-16 18:36:41 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler_module\handler_hero.py", line 68, in get_hero_data
    lHero = await sqlplus.list(Hero, [Hero.user_id == user_id, ])

2024-01-16 18:36:41 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\sql\sqlplus.py", line 116, in list
    result = await db.fetch_all(op)

2024-01-16 18:36:41 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 149, in fetch_all
    return await connection.fetch_all(query, values)

2024-01-16 18:36:41 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 271, in fetch_all
    return await self._connection.fetch_all(built_query)

2024-01-16 18:36:41 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\databases\backends\mysql.py", line 108, in fetch_all
    await cursor.execute(query_str, args)

2024-01-16 18:36:41 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)

2024-01-16 18:36:41 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)

2024-01-16 18:36:41 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 428, in query
    await self._read_query_result(unbuffered=unbuffered)

2024-01-16 18:36:41 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 620, in _read_query_result
    await result.read()

2024-01-16 18:36:41 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 1103, in read
    first_packet = await self.connection._read_packet()

2024-01-16 18:36:41 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 591, in _read_packet
    packet.check_error()

2024-01-16 18:36:41 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)

2024-01-16 18:36:41 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)

2024-01-16 18:36:41 - log.py[line:18] - INFO: pymysql.err.ProgrammingError: (1146, "Table 'meta1_xfx_hk.hero' doesn't exist")

2024-01-16 18:36:54 - log.py[line:18] - INFO: 客户端断开连接
2024-01-16 18:36:54 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-16 18:37:12 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-16 18:38:16 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 13512) - "WebSocket /ws/1" [accepted]
2024-01-16 18:38:16 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-16 18:38:17 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-16 18:38:17 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler.py", line 24, in wrapper
    resp = await func(*args, **kwargs)

2024-01-16 18:38:17 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler.py", line 65, in handle_msg
    await self.handler_module[data["type"]].handle(proto_util.from_json_dict(data))

2024-01-16 18:38:17 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler_module\handler_hero.py", line 20, in handle
    await getattr(obj, data["func"])(data["user_id"], data)

2024-01-16 18:38:17 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler_module\handler_hero.py", line 68, in get_hero_data
    lHero = await sqlplus.list(Hero, [Hero.user_id == user_id, ])

2024-01-16 18:38:17 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\sql\sqlplus.py", line 116, in list
    result = await db.fetch_all(op)

2024-01-16 18:38:17 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 149, in fetch_all
    return await connection.fetch_all(query, values)

2024-01-16 18:38:17 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 271, in fetch_all
    return await self._connection.fetch_all(built_query)

2024-01-16 18:38:17 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\databases\backends\mysql.py", line 108, in fetch_all
    await cursor.execute(query_str, args)

2024-01-16 18:38:17 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)

2024-01-16 18:38:17 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)

2024-01-16 18:38:17 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 428, in query
    await self._read_query_result(unbuffered=unbuffered)

2024-01-16 18:38:17 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 620, in _read_query_result
    await result.read()

2024-01-16 18:38:17 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 1103, in read
    first_packet = await self.connection._read_packet()

2024-01-16 18:38:17 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 591, in _read_packet
    packet.check_error()

2024-01-16 18:38:17 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)

2024-01-16 18:38:17 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)

2024-01-16 18:38:17 - log.py[line:18] - INFO: pymysql.err.ProgrammingError: (1146, "Table 'meta1_xfx_hk.hero' doesn't exist")

2024-01-16 18:38:42 - log.py[line:18] - INFO: 用户 1 下线，在线人数：1
2024-01-16 18:39:10 - statreload.py[line:41] - WARNING: StatReload detected file change in 'entity\common.py'. Reloading...
2024-01-16 18:39:10 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-16 18:39:11 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-16 18:39:11 - server.py[line:84] - INFO: Started server process [30964]
2024-01-16 18:39:11 - on.py[line:45] - INFO: Waiting for application startup.
2024-01-16 18:39:12 - core.py[line:91] - INFO: Connected to database mysql+pymysql://meta1_xfx_hk:********@82.156.31.158:3306/meta1_xfx_hk?charset=utf8mb4
2024-01-16 18:39:12 - on.py[line:59] - INFO: Application startup complete.
2024-01-16 18:39:39 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 13644) - "WebSocket /ws/1" [accepted]
2024-01-16 18:39:39 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-16 18:40:09 - log.py[line:18] - INFO: 用户 1 下线，在线人数：1
2024-01-16 19:20:49 - log.py[line:18] - INFO: 客户端断开连接
2024-01-16 19:20:49 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-16 20:11:51 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 12243) - "WebSocket /ws/1" [accepted]
2024-01-16 20:11:51 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-16 20:11:53 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-16 20:11:53 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler.py", line 24, in wrapper
    resp = await func(*args, **kwargs)

2024-01-16 20:11:53 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler.py", line 65, in handle_msg
    await self.handler_module[data["type"]].handle(proto_util.from_json_dict(data))

2024-01-16 20:11:53 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler_module\handler_hero.py", line 20, in handle
    await getattr(obj, data["func"])(data["user_id"], data)

2024-01-16 20:11:53 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler_module\handler_hero.py", line 68, in get_hero_data
    lHero = await sqlplus.list(Hero, [Hero.user_id == user_id, ])

2024-01-16 20:11:53 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\sql\sqlplus.py", line 116, in list
    result = await db.fetch_all(op)

2024-01-16 20:11:53 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 149, in fetch_all
    return await connection.fetch_all(query, values)

2024-01-16 20:11:53 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 271, in fetch_all
    return await self._connection.fetch_all(built_query)

2024-01-16 20:11:53 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\databases\backends\mysql.py", line 108, in fetch_all
    await cursor.execute(query_str, args)

2024-01-16 20:11:53 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)

2024-01-16 20:11:53 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)

2024-01-16 20:11:53 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 428, in query
    await self._read_query_result(unbuffered=unbuffered)

2024-01-16 20:11:53 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 620, in _read_query_result
    await result.read()

2024-01-16 20:11:53 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 1103, in read
    first_packet = await self.connection._read_packet()

2024-01-16 20:11:53 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\aiomysql\connection.py", line 591, in _read_packet
    packet.check_error()

2024-01-16 20:11:53 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)

2024-01-16 20:11:53 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\pymysql\err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)

2024-01-16 20:11:53 - log.py[line:18] - INFO: pymysql.err.InternalError: (1054, "Unknown column 'user_pool.is_delete' in 'field list'")

2024-01-16 20:12:01 - log.py[line:18] - INFO: 客户端断开连接
2024-01-16 20:12:01 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-16 20:12:01 - statreload.py[line:41] - WARNING: StatReload detected file change in 'entity\common.py'. Reloading...
2024-01-16 20:12:02 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-16 20:12:03 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-16 20:12:03 - server.py[line:84] - INFO: Started server process [37204]
2024-01-16 20:12:03 - on.py[line:45] - INFO: Waiting for application startup.
2024-01-16 20:12:05 - core.py[line:91] - INFO: Connected to database mysql+pymysql://meta1_xfx_hk:********@82.156.31.158:3306/meta1_xfx_hk?charset=utf8mb4
2024-01-16 20:12:05 - on.py[line:59] - INFO: Application startup complete.
2024-01-16 20:12:05 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 12282) - "WebSocket /ws/1" [accepted]
2024-01-16 20:12:05 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-16 20:12:36 - log.py[line:18] - INFO: 用户 1 下线，在线人数：1
2024-01-16 20:12:37 - log.py[line:18] - INFO: 客户端断开连接
2024-01-16 20:12:37 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-16 20:12:42 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 12366) - "WebSocket /ws/1" [accepted]
2024-01-16 20:12:42 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-16 20:12:47 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-16 20:12:47 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler.py", line 24, in wrapper
    resp = await func(*args, **kwargs)

2024-01-16 20:12:47 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler.py", line 65, in handle_msg
    await self.handler_module[data["type"]].handle(proto_util.from_json_dict(data))

2024-01-16 20:12:47 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler_module\handler_fight.py", line 27, in handle
    await getattr(obj, data["func"])(data["user_id"], data)

2024-01-16 20:12:47 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler_module\handler_fight.py", line 443, in start_match
    "friend_user_id": ready_room.user_id0,

2024-01-16 20:12:47 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler_module\handler_fight.py", line 270, in confirm_fight_friend
    team0 = await fight_mgr.init_player_team(user_id)

2024-01-16 20:12:47 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\mgr\fight_logic_mgr.py", line 25, in init_player_team
    await misc.raise_exception(user_id, "队伍没有角色")

2024-01-16 20:12:47 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\misc.py", line 59, in raise_exception
    raise AppException(HttpResp.FAILED, msg=msg)

2024-01-16 20:12:47 - log.py[line:18] - INFO: base.base.AppException: 300: 队伍没有角色

2024-01-16 20:13:00 - log.py[line:18] - INFO: 客户端断开连接
2024-01-16 20:13:00 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-16 20:13:07 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-16 20:15:04 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 12833) - "WebSocket /ws/1" [accepted]
2024-01-16 20:15:04 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-16 20:15:23 - log.py[line:18] - INFO: 用户 1 下线，在线人数：1
2024-01-16 20:34:19 - statreload.py[line:41] - WARNING: StatReload detected file change in 'data\ActivityLotteryData.py'. Reloading...
2024-01-16 20:34:19 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-16 20:34:20 - statreload.py[line:41] - WARNING: StatReload detected file change in 'data\Level40Data.py'. Reloading...
2024-01-16 20:34:20 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-16 20:34:21 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-16 20:34:21 - server.py[line:84] - INFO: Started server process [4696]
2024-01-16 20:34:21 - on.py[line:45] - INFO: Waiting for application startup.
2024-01-16 20:34:22 - core.py[line:91] - INFO: Connected to database mysql+pymysql://meta1_xfx_hk:********@82.156.31.158:3306/meta1_xfx_hk?charset=utf8mb4
2024-01-16 20:34:22 - on.py[line:59] - INFO: Application startup complete.
2024-01-16 20:43:26 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 1536) - "WebSocket /ws/1" [accepted]
2024-01-16 20:43:26 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-16 20:43:58 - log.py[line:18] - INFO: 用户 1 下线，在线人数：1
2024-01-16 20:50:25 - log.py[line:18] - INFO: 客户端断开连接
2024-01-16 20:50:25 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-16 20:50:31 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 2667) - "WebSocket /ws/1" [accepted]
2024-01-16 20:50:31 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-16 20:50:58 - log.py[line:18] - INFO: 客户端断开连接
2024-01-16 20:50:58 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-16 20:51:01 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-16 20:51:23 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 2779) - "WebSocket /ws/1" [accepted]
2024-01-16 20:51:23 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-16 20:51:26 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-16 20:51:26 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler.py", line 24, in wrapper
    resp = await func(*args, **kwargs)

2024-01-16 20:51:26 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler.py", line 65, in handle_msg
    await self.handler_module[data["type"]].handle(proto_util.from_json_dict(data))

2024-01-16 20:51:26 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler_module\handler_fight.py", line 27, in handle
    await getattr(obj, data["func"])(data["user_id"], data)

2024-01-16 20:51:26 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler_module\handler_fight.py", line 443, in start_match
    "friend_user_id": ready_room.user_id0,

2024-01-16 20:51:26 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler_module\handler_fight.py", line 270, in confirm_fight_friend
    team0 = await fight_mgr.init_player_team(user_id)

2024-01-16 20:51:26 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\mgr\fight_logic_mgr.py", line 25, in init_player_team
    await misc.raise_exception(user_id, "队伍没有角色")

2024-01-16 20:51:26 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\misc.py", line 59, in raise_exception
    raise AppException(HttpResp.FAILED, msg=msg)

2024-01-16 20:51:26 - log.py[line:18] - INFO: base.base.AppException: 300: 队伍没有角色

2024-01-16 20:51:46 - log.py[line:18] - INFO: 用户 1 下线，在线人数：1
2024-01-16 20:52:43 - log.py[line:18] - INFO: 客户端断开连接
2024-01-16 20:52:43 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-16 20:52:47 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 2895) - "WebSocket /ws/1" [accepted]
2024-01-16 20:52:47 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-16 20:53:17 - log.py[line:18] - INFO: 用户 1 下线，在线人数：1
2024-01-16 20:55:06 - log.py[line:18] - INFO: 客户端断开连接
2024-01-16 20:55:06 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-16 20:55:09 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 3503) - "WebSocket /ws/1" [accepted]
2024-01-16 20:55:09 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-16 20:55:33 - log.py[line:18] - INFO: 用户 1 下线，在线人数：1
2024-01-16 20:56:26 - log.py[line:18] - INFO: 客户端断开连接
2024-01-16 20:56:26 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-16 21:14:40 - statreload.py[line:41] - WARNING: StatReload detected file change in 'data\ActivityLotteryData.py'. Reloading...
2024-01-16 21:14:40 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-16 21:14:41 - statreload.py[line:41] - WARNING: StatReload detected file change in 'data\Level26Data.py'. Reloading...
2024-01-16 21:14:41 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-16 21:14:42 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-16 21:14:42 - server.py[line:84] - INFO: Started server process [1652]
2024-01-16 21:14:42 - on.py[line:45] - INFO: Waiting for application startup.
2024-01-16 21:14:43 - core.py[line:91] - INFO: Connected to database mysql+pymysql://meta1_xfx_hk:********@82.156.31.158:3306/meta1_xfx_hk?charset=utf8mb4
2024-01-16 21:14:43 - on.py[line:59] - INFO: Application startup complete.
2024-01-16 21:14:59 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 5813) - "WebSocket /ws/1" [accepted]
2024-01-16 21:14:59 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-16 21:15:30 - log.py[line:18] - INFO: 用户 1 下线，在线人数：1
2024-01-16 21:16:35 - log.py[line:18] - INFO: 客户端断开连接
2024-01-16 21:16:35 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-16 21:16:39 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 5965) - "WebSocket /ws/1" [accepted]
2024-01-16 21:16:39 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-16 21:17:00 - log.py[line:18] - INFO: 用户 1 下线，在线人数：1
2024-01-16 21:20:06 - log.py[line:18] - INFO: 客户端断开连接
2024-01-16 21:20:06 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-16 21:20:11 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6288) - "WebSocket /ws/1" [accepted]
2024-01-16 21:20:11 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-16 21:20:32 - log.py[line:18] - INFO: 用户 1 下线，在线人数：1
2024-01-16 21:22:01 - log.py[line:18] - INFO: 客户端断开连接
2024-01-16 21:22:01 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-16 21:22:05 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6452) - "WebSocket /ws/1" [accepted]
2024-01-16 21:22:05 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-16 21:22:33 - log.py[line:18] - INFO: 用户 1 下线，在线人数：1
2024-01-16 21:25:06 - log.py[line:18] - INFO: 客户端断开连接
2024-01-16 21:25:06 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-16 21:25:09 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6724) - "WebSocket /ws/1" [accepted]
2024-01-16 21:25:09 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-16 21:25:28 - log.py[line:18] - INFO: 客户端断开连接
2024-01-16 21:25:28 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-16 21:25:32 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6769) - "WebSocket /ws/1" [accepted]
2024-01-16 21:25:32 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-16 21:25:49 - log.py[line:18] - INFO: 用户 1 下线，在线人数：1
2024-01-16 21:26:28 - log.py[line:18] - INFO: 客户端断开连接
2024-01-16 21:26:28 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-16 21:26:31 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6867) - "WebSocket /ws/1" [accepted]
2024-01-16 21:26:31 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-16 21:26:49 - log.py[line:18] - INFO: 用户 1 下线，在线人数：1
2024-01-16 21:29:01 - statreload.py[line:41] - WARNING: StatReload detected file change in 'server_module\handler_module\handler_hero.py'. Reloading...
2024-01-16 21:29:01 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-16 21:29:03 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-16 21:29:03 - server.py[line:84] - INFO: Started server process [36380]
2024-01-16 21:29:03 - on.py[line:45] - INFO: Waiting for application startup.
2024-01-16 21:29:03 - core.py[line:91] - INFO: Connected to database mysql+pymysql://meta1_xfx_hk:********@82.156.31.158:3306/meta1_xfx_hk?charset=utf8mb4
2024-01-16 21:29:03 - on.py[line:59] - INFO: Application startup complete.
2024-01-16 21:29:09 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 7110) - "WebSocket /ws/1" [accepted]
2024-01-16 21:29:09 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-16 21:29:40 - log.py[line:18] - INFO: 用户 1 下线，在线人数：1
2024-01-17 00:00:00 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-17 00:00:00 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\mgr\timer_mgr.py", line 93, in loop
    schedule.run_pending()

2024-01-17 00:00:00 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\schedule\__init__.py", line 780, in run_pending
    default_scheduler.run_pending()

2024-01-17 00:00:00 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\schedule\__init__.py", line 100, in run_pending
    self._run_job(job)

2024-01-17 00:00:00 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\schedule\__init__.py", line 172, in _run_job
    ret = job.run()

2024-01-17 00:00:00 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\schedule\__init__.py", line 661, in run
    ret = self.job_func()

2024-01-17 00:00:00 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\mgr\timer_mgr.py", line 22, in day_task
    loop.run_until_complete(LogicCommon.getObj().day_refresh_user_login())  # 重置用户日首次登录

2024-01-17 00:00:00 - log.py[line:18] - INFO:   File "D:\Python\Python36\lib\asyncio\base_events.py", line 471, in run_until_complete
    self.run_forever()

2024-01-17 00:00:00 - log.py[line:18] - INFO:   File "D:\Python\Python36\lib\asyncio\base_events.py", line 425, in run_forever
    raise RuntimeError('This event loop is already running')

2024-01-17 00:00:00 - log.py[line:18] - INFO: RuntimeError: This event loop is already running

2024-01-17 00:00:00 - base_events.py[line:1285] - ERROR: Task exception was never retrieved
future: <Task finished coro=<TimerMgr.loop() done, defined at D:\CocosProject\wb\game_server\src\mgr\timer_mgr.py:89> exception=RuntimeError('This event loop is already running',)>
Traceback (most recent call last):
  File "D:\CocosProject\wb\game_server\src\mgr\timer_mgr.py", line 93, in loop
    schedule.run_pending()
  File "D:\PyProject\game_server\venv\lib\site-packages\schedule\__init__.py", line 780, in run_pending
    default_scheduler.run_pending()
  File "D:\PyProject\game_server\venv\lib\site-packages\schedule\__init__.py", line 100, in run_pending
    self._run_job(job)
  File "D:\PyProject\game_server\venv\lib\site-packages\schedule\__init__.py", line 172, in _run_job
    ret = job.run()
  File "D:\PyProject\game_server\venv\lib\site-packages\schedule\__init__.py", line 661, in run
    ret = self.job_func()
  File "D:\CocosProject\wb\game_server\src\mgr\timer_mgr.py", line 22, in day_task
    loop.run_until_complete(LogicCommon.getObj().day_refresh_user_login())  # 重置用户日首次登录
  File "D:\Python\Python36\lib\asyncio\base_events.py", line 471, in run_until_complete
    self.run_forever()
  File "D:\Python\Python36\lib\asyncio\base_events.py", line 425, in run_forever
    raise RuntimeError('This event loop is already running')
RuntimeError: This event loop is already running
2024-01-17 00:00:00 - log.py[line:18] - INFO: 重置用户日首次登录
2024-01-17 08:21:06 - log.py[line:18] - INFO: 客户端断开连接
2024-01-17 08:21:06 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-17 08:24:11 - statreload.py[line:41] - WARNING: StatReload detected file change in 'server_module\handler_module\handler_hero.py'. Reloading...
2024-01-17 08:24:11 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-17 08:24:12 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-17 08:24:12 - server.py[line:84] - INFO: Started server process [34192]
2024-01-17 08:24:12 - on.py[line:45] - INFO: Waiting for application startup.
2024-01-17 08:24:13 - core.py[line:91] - INFO: Connected to database mysql+pymysql://meta1_xfx_hk:********@82.156.31.158:3306/meta1_xfx_hk?charset=utf8mb4
2024-01-17 08:24:13 - on.py[line:59] - INFO: Application startup complete.
2024-01-17 08:24:45 - statreload.py[line:41] - WARNING: StatReload detected file change in 'server_module\handler_module\handler_hero.py'. Reloading...
2024-01-17 08:24:45 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-17 08:24:46 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-17 08:24:46 - server.py[line:84] - INFO: Started server process [13068]
2024-01-17 08:24:46 - on.py[line:45] - INFO: Waiting for application startup.
2024-01-17 08:24:46 - core.py[line:91] - INFO: Connected to database mysql+pymysql://meta1_xfx_hk:********@82.156.31.158:3306/meta1_xfx_hk?charset=utf8mb4
2024-01-17 08:24:46 - on.py[line:59] - INFO: Application startup complete.
2024-01-17 08:24:56 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 7803) - "WebSocket /ws/1" [accepted]
2024-01-17 08:24:56 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-17 08:25:02 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-17 08:25:02 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler.py", line 24, in wrapper
    resp = await func(*args, **kwargs)

2024-01-17 08:25:02 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler.py", line 65, in handle_msg
    await self.handler_module[data["type"]].handle(proto_util.from_json_dict(data))

2024-01-17 08:25:02 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler_module\handler_hero.py", line 20, in handle
    await getattr(obj, data["func"])(data["user_id"], data)

2024-01-17 08:25:02 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 385, in wrapper
    return await func(*args, **kwargs)

2024-01-17 08:25:02 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler_module\handler_hero.py", line 220, in add_hero_team
    await misc.raise_exception(user_id, "英雄不存在")

2024-01-17 08:25:02 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\misc.py", line 59, in raise_exception
    raise AppException(HttpResp.FAILED, msg=msg)

2024-01-17 08:25:02 - log.py[line:18] - INFO: base.base.AppException: 300: 英雄不存在

2024-01-17 08:25:26 - log.py[line:18] - INFO: 用户 1 下线，在线人数：1
2024-01-17 08:25:42 - statreload.py[line:41] - WARNING: StatReload detected file change in 'server_module\handler_module\handler_hero.py'. Reloading...
2024-01-17 08:25:43 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-17 08:25:43 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-17 08:25:43 - server.py[line:84] - INFO: Started server process [12820]
2024-01-17 08:25:43 - on.py[line:45] - INFO: Waiting for application startup.
2024-01-17 08:25:44 - core.py[line:91] - INFO: Connected to database mysql+pymysql://meta1_xfx_hk:********@82.156.31.158:3306/meta1_xfx_hk?charset=utf8mb4
2024-01-17 08:25:44 - on.py[line:59] - INFO: Application startup complete.
2024-01-17 08:25:44 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 7878) - "WebSocket /ws/1" [accepted]
2024-01-17 08:25:44 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-17 08:25:45 - log.py[line:18] - INFO: 客户端断开连接
2024-01-17 08:25:45 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-17 08:25:48 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 7898) - "WebSocket /ws/1" [accepted]
2024-01-17 08:25:48 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-17 08:25:51 - log.py[line:18] - INFO: 客户端断开连接
2024-01-17 08:25:51 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-17 08:25:53 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 7910) - "WebSocket /ws/1" [accepted]
2024-01-17 08:25:53 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-17 08:26:05 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-17 08:26:05 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler.py", line 24, in wrapper
    resp = await func(*args, **kwargs)

2024-01-17 08:26:05 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler.py", line 65, in handle_msg
    await self.handler_module[data["type"]].handle(proto_util.from_json_dict(data))

2024-01-17 08:26:05 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler_module\handler_hero.py", line 20, in handle
    await getattr(obj, data["func"])(data["user_id"], data)

2024-01-17 08:26:05 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 385, in wrapper
    return await func(*args, **kwargs)

2024-01-17 08:26:05 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler_module\handler_hero.py", line 220, in add_hero_team
    await misc.raise_exception(user_id, "英雄不存在")

2024-01-17 08:26:05 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\misc.py", line 59, in raise_exception
    raise AppException(HttpResp.FAILED, msg=msg)

2024-01-17 08:26:05 - log.py[line:18] - INFO: base.base.AppException: 300: 英雄不存在

2024-01-17 08:26:10 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-17 08:26:10 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler.py", line 24, in wrapper
    resp = await func(*args, **kwargs)

2024-01-17 08:26:10 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler.py", line 65, in handle_msg
    await self.handler_module[data["type"]].handle(proto_util.from_json_dict(data))

2024-01-17 08:26:10 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler_module\handler_hero.py", line 20, in handle
    await getattr(obj, data["func"])(data["user_id"], data)

2024-01-17 08:26:10 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\databases\core.py", line 385, in wrapper
    return await func(*args, **kwargs)

2024-01-17 08:26:10 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler_module\handler_hero.py", line 220, in add_hero_team
    await misc.raise_exception(user_id, "英雄不存在")

2024-01-17 08:26:10 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\misc.py", line 59, in raise_exception
    raise AppException(HttpResp.FAILED, msg=msg)

2024-01-17 08:26:10 - log.py[line:18] - INFO: base.base.AppException: 300: 英雄不存在

2024-01-17 08:26:15 - log.py[line:18] - INFO: 用户 1 下线，在线人数：1
2024-01-17 08:27:29 - server.py[line:263] - INFO: Shutting down
2024-01-17 08:27:29 - log.py[line:18] - INFO: 客户端断开连接
2024-01-17 08:27:29 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-17 08:27:30 - on.py[line:64] - INFO: Waiting for application shutdown.
2024-01-17 08:27:30 - core.py[line:129] - INFO: Disconnected from database mysql+pymysql://meta1_xfx_hk:********@82.156.31.158:3306/meta1_xfx_hk?charset=utf8mb4
2024-01-17 08:27:30 - on.py[line:75] - INFO: Application shutdown complete.
2024-01-17 08:27:30 - server.py[line:94] - INFO: Finished server process [12820]
2024-01-17 08:27:30 - basereload.py[line:90] - INFO: Stopping reloader process [35860]
2024-01-17 08:27:33 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-17 08:27:33 - config.py[line:342] - INFO: Will watch for changes in these directories: ['D:\\CocosProject\\wb\\game_server\\src']
2024-01-17 08:27:33 - config.py[line:562] - INFO: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2024-01-17 08:27:33 - basereload.py[line:59] - INFO: Started reloader process [12596] using statreload
2024-01-17 08:27:33 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-17 08:27:34 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-17 08:27:34 - server.py[line:84] - INFO: Started server process [13040]
2024-01-17 08:27:34 - on.py[line:45] - INFO: Waiting for application startup.
2024-01-17 08:27:35 - core.py[line:91] - INFO: Connected to database mysql+pymysql://meta1_xfx_hk:********@82.156.31.158:3306/meta1_xfx_hk?charset=utf8mb4
2024-01-17 08:27:35 - on.py[line:59] - INFO: Application startup complete.
2024-01-17 08:27:36 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 8190) - "WebSocket /ws/1" [accepted]
2024-01-17 08:27:36 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-17 08:28:18 - basereload.py[line:90] - INFO: Stopping reloader process [12596]
2024-01-17 08:28:22 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-17 08:28:22 - config.py[line:342] - INFO: Will watch for changes in these directories: ['D:\\CocosProject\\wb\\game_server\\src']
2024-01-17 08:28:22 - config.py[line:562] - INFO: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2024-01-17 08:28:22 - basereload.py[line:59] - INFO: Started reloader process [11480] using statreload
2024-01-17 08:28:22 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-17 08:28:23 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-17 08:28:23 - server.py[line:84] - INFO: Started server process [37300]
2024-01-17 08:28:23 - on.py[line:45] - INFO: Waiting for application startup.
2024-01-17 08:28:23 - core.py[line:91] - INFO: Connected to database mysql+pymysql://meta1_xfx_hk:********@82.156.31.158:3306/meta1_xfx_hk?charset=utf8mb4
2024-01-17 08:28:23 - on.py[line:59] - INFO: Application startup complete.
2024-01-17 08:29:57 - statreload.py[line:41] - WARNING: StatReload detected file change in 'server_module\handler_module\handler_hero.py'. Reloading...
2024-01-17 08:29:57 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-17 08:29:58 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-17 08:29:58 - server.py[line:84] - INFO: Started server process [540]
2024-01-17 08:29:58 - on.py[line:45] - INFO: Waiting for application startup.
2024-01-17 08:30:00 - core.py[line:91] - INFO: Connected to database mysql+pymysql://meta1_xfx_hk:********@82.156.31.158:3306/meta1_xfx_hk?charset=utf8mb4
2024-01-17 08:30:00 - on.py[line:59] - INFO: Application startup complete.
2024-01-17 08:30:12 - statreload.py[line:41] - WARNING: StatReload detected file change in 'server_module\handler_module\handler_hero.py'. Reloading...
2024-01-17 08:30:12 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-17 08:30:13 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-17 08:30:13 - server.py[line:84] - INFO: Started server process [12656]
2024-01-17 08:30:13 - on.py[line:45] - INFO: Waiting for application startup.
2024-01-17 08:30:15 - core.py[line:91] - INFO: Connected to database mysql+pymysql://meta1_xfx_hk:********@82.156.31.158:3306/meta1_xfx_hk?charset=utf8mb4
2024-01-17 08:30:15 - on.py[line:59] - INFO: Application startup complete.
2024-01-17 08:30:16 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 8498) - "WebSocket /ws/1" [accepted]
2024-01-17 08:30:16 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-17 08:30:17 - log.py[line:18] - INFO: 客户端断开连接
2024-01-17 08:30:17 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-17 08:30:19 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 8508) - "WebSocket /ws/1" [accepted]
2024-01-17 08:30:19 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-17 08:30:47 - log.py[line:18] - INFO: 用户 1 下线，在线人数：1
2024-01-17 08:32:17 - log.py[line:18] - INFO: 客户端断开连接
2024-01-17 08:32:17 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-17 08:32:24 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 8738) - "WebSocket /ws/1" [accepted]
2024-01-17 08:32:24 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-17 08:32:48 - log.py[line:18] - INFO: 用户 1 下线，在线人数：1
2024-01-17 08:34:17 - basereload.py[line:90] - INFO: Stopping reloader process [11480]
2024-01-17 08:34:18 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-17 08:34:18 - config.py[line:342] - INFO: Will watch for changes in these directories: ['D:\\CocosProject\\wb\\game_server\\src']
2024-01-17 08:34:18 - config.py[line:562] - INFO: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2024-01-17 08:34:18 - basereload.py[line:59] - INFO: Started reloader process [36588] using statreload
2024-01-17 08:34:18 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-17 08:34:19 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-17 08:34:19 - server.py[line:84] - INFO: Started server process [3464]
2024-01-17 08:34:19 - on.py[line:45] - INFO: Waiting for application startup.
2024-01-17 08:34:19 - core.py[line:91] - INFO: Connected to database mysql+pymysql://meta1_xfx_hk:********@82.156.31.158:3306/meta1_xfx_hk?charset=utf8mb4
2024-01-17 08:34:19 - on.py[line:59] - INFO: Application startup complete.
2024-01-17 08:34:30 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 8953) - "WebSocket /ws/1" [accepted]
2024-01-17 08:34:30 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-17 08:35:01 - log.py[line:18] - INFO: 用户 1 下线，在线人数：1
2024-01-17 08:35:53 - statreload.py[line:41] - WARNING: StatReload detected file change in 'server_module\handler_module\handler_fight.py'. Reloading...
2024-01-17 08:35:53 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-17 08:35:54 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-17 08:35:54 - server.py[line:84] - INFO: Started server process [28756]
2024-01-17 08:35:54 - on.py[line:45] - INFO: Waiting for application startup.
2024-01-17 08:35:55 - core.py[line:91] - INFO: Connected to database mysql+pymysql://meta1_xfx_hk:********@82.156.31.158:3306/meta1_xfx_hk?charset=utf8mb4
2024-01-17 08:35:55 - on.py[line:59] - INFO: Application startup complete.
2024-01-17 08:36:40 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 9170) - "WebSocket /ws/1" [accepted]
2024-01-17 08:36:40 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-17 08:37:03 - log.py[line:18] - INFO: 客户端断开连接
2024-01-17 08:37:03 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-17 08:37:11 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-17 08:37:36 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 9270) - "WebSocket /ws/1" [accepted]
2024-01-17 08:37:36 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-17 08:37:42 - log.py[line:18] - INFO: 客户端断开连接
2024-01-17 08:37:42 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-17 08:37:45 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 9290) - "WebSocket /ws/1" [accepted]
2024-01-17 08:37:45 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-17 08:38:12 - log.py[line:18] - INFO: 用户 1 下线，在线人数：1
2024-01-17 09:12:56 - log.py[line:18] - INFO: 客户端断开连接
2024-01-17 09:12:56 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-17 09:53:28 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 5516) - "WebSocket /ws/1" [accepted]
2024-01-17 09:53:28 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-17 09:53:49 - log.py[line:18] - INFO: 客户端断开连接
2024-01-17 09:53:49 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-17 09:53:51 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 5569) - "WebSocket /ws/1" [accepted]
2024-01-17 09:53:51 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-17 09:54:11 - log.py[line:18] - INFO: 用户 1 下线，在线人数：1
2024-01-17 09:54:44 - statreload.py[line:41] - WARNING: StatReload detected file change in 'misc.py'. Reloading...
2024-01-17 09:54:44 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-17 09:54:45 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-17 09:54:45 - server.py[line:84] - INFO: Started server process [11256]
2024-01-17 09:54:45 - on.py[line:45] - INFO: Waiting for application startup.
2024-01-17 09:54:45 - core.py[line:91] - INFO: Connected to database mysql+pymysql://meta1_xfx_hk:********@82.156.31.158:3306/meta1_xfx_hk?charset=utf8mb4
2024-01-17 09:54:45 - on.py[line:59] - INFO: Application startup complete.
2024-01-17 09:54:48 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 5679) - "WebSocket /ws/1" [accepted]
2024-01-17 09:54:48 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-17 09:54:58 - log.py[line:18] - INFO: 客户端断开连接
2024-01-17 09:54:58 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-17 09:55:00 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 5709) - "WebSocket /ws/1" [accepted]
2024-01-17 09:55:00 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-17 09:55:16 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 5739) - "WebSocket /ws/2" [accepted]
2024-01-17 09:55:16 - log.py[line:18] - INFO: 用户 2 上线，在线人数：2
2024-01-17 09:55:18 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-17 09:55:18 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler.py", line 24, in wrapper
    resp = await func(*args, **kwargs)

2024-01-17 09:55:18 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler.py", line 65, in handle_msg
    await self.handler_module[data["type"]].handle(proto_util.from_json_dict(data))

2024-01-17 09:55:18 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler_module\handler_fight.py", line 27, in handle
    await getattr(obj, data["func"])(data["user_id"], data)

2024-01-17 09:55:18 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler_module\handler_fight.py", line 443, in start_match
    "friend_user_id": ready_room.user_id0,

2024-01-17 09:55:18 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler_module\handler_fight.py", line 270, in confirm_fight_friend
    team0 = await fight_mgr.init_player_team(user_id)

2024-01-17 09:55:18 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\mgr\fight_logic_mgr.py", line 25, in init_player_team
    await misc.raise_exception(user_id, "队伍没有角色")

2024-01-17 09:55:18 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\misc.py", line 61, in raise_exception
    raise AppException(HttpResp.FAILED, msg=msg)

2024-01-17 09:55:18 - log.py[line:18] - INFO: base.base.AppException: 300: 队伍没有角色

2024-01-17 09:55:20 - log.py[line:18] - INFO: 用户 1 下线，在线人数：2
2024-01-17 09:55:35 - log.py[line:18] - INFO: 用户 2 下线，在线人数：2
2024-01-17 09:56:26 - log.py[line:18] - INFO: 客户端断开连接
2024-01-17 09:56:26 - log.py[line:18] - INFO: 用户 1 下线，在线人数：1
2024-01-17 09:56:26 - log.py[line:18] - INFO: 客户端断开连接
2024-01-17 09:56:26 - log.py[line:18] - INFO: 用户 2 下线，在线人数：0
2024-01-17 09:56:35 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 5895) - "WebSocket /ws/1" [accepted]
2024-01-17 09:56:35 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-17 09:56:38 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 5899) - "WebSocket /ws/1709" [accepted]
2024-01-17 09:56:38 - log.py[line:18] - INFO: 用户 1709 上线，在线人数：2
2024-01-17 09:56:38 - log.py[line:18] - INFO: 用户 1709 下线，在线人数：1
2024-01-17 09:56:38 - log.py[line:18] - INFO: 客户端断开连接
2024-01-17 09:56:38 - log.py[line:18] - INFO: 用户 1709 下线，在线人数：1
2024-01-17 09:56:44 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 5918) - "WebSocket /ws/1709" [accepted]
2024-01-17 09:56:44 - log.py[line:18] - INFO: 用户 1709 上线，在线人数：2
2024-01-17 09:56:44 - log.py[line:18] - INFO: 用户 1709 下线，在线人数：1
2024-01-17 09:56:44 - log.py[line:18] - INFO: 客户端断开连接
2024-01-17 09:56:44 - log.py[line:18] - INFO: 用户 1709 下线，在线人数：1
2024-01-17 09:56:49 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 5928) - "WebSocket /ws/1709" [accepted]
2024-01-17 09:56:49 - log.py[line:18] - INFO: 用户 1709 上线，在线人数：2
2024-01-17 09:56:49 - log.py[line:18] - INFO: 用户 1709 下线，在线人数：1
2024-01-17 09:56:49 - log.py[line:18] - INFO: 客户端断开连接
2024-01-17 09:56:49 - log.py[line:18] - INFO: 用户 1709 下线，在线人数：1
2024-01-17 09:56:55 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 5941) - "WebSocket /ws/1709" [accepted]
2024-01-17 09:56:55 - log.py[line:18] - INFO: 用户 1709 上线，在线人数：2
2024-01-17 09:56:55 - log.py[line:18] - INFO: 用户 1709 下线，在线人数：1
2024-01-17 09:56:55 - log.py[line:18] - INFO: 客户端断开连接
2024-01-17 09:56:55 - log.py[line:18] - INFO: 用户 1709 下线，在线人数：1
2024-01-17 09:57:00 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 5949) - "WebSocket /ws/1709" [accepted]
2024-01-17 09:57:00 - log.py[line:18] - INFO: 用户 1709 上线，在线人数：2
2024-01-17 09:57:00 - log.py[line:18] - INFO: 用户 1709 下线，在线人数：1
2024-01-17 09:57:00 - log.py[line:18] - INFO: 客户端断开连接
2024-01-17 09:57:00 - log.py[line:18] - INFO: 用户 1709 下线，在线人数：1
2024-01-17 09:57:05 - log.py[line:18] - INFO: 用户 1 下线，在线人数：1
2024-01-17 09:57:08 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 5972) - "WebSocket /ws/1709" [accepted]
2024-01-17 09:57:08 - log.py[line:18] - INFO: 用户 1709 上线，在线人数：2
2024-01-17 09:57:09 - log.py[line:18] - INFO: 用户 1709 下线，在线人数：1
2024-01-17 09:57:09 - log.py[line:18] - INFO: 客户端断开连接
2024-01-17 09:57:09 - log.py[line:18] - INFO: 用户 1709 下线，在线人数：1
2024-01-17 09:57:15 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 5990) - "WebSocket /ws/1709" [accepted]
2024-01-17 09:57:15 - log.py[line:18] - INFO: 用户 1709 上线，在线人数：2
2024-01-17 09:57:15 - log.py[line:18] - INFO: 用户 1709 下线，在线人数：1
2024-01-17 09:57:15 - log.py[line:18] - INFO: 客户端断开连接
2024-01-17 09:57:15 - log.py[line:18] - INFO: 用户 1709 下线，在线人数：1
2024-01-17 09:57:20 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 5997) - "WebSocket /ws/1709" [accepted]
2024-01-17 09:57:20 - log.py[line:18] - INFO: 用户 1709 上线，在线人数：2
2024-01-17 09:57:20 - log.py[line:18] - INFO: 用户 1709 下线，在线人数：1
2024-01-17 09:57:20 - log.py[line:18] - INFO: 客户端断开连接
2024-01-17 09:57:20 - log.py[line:18] - INFO: 用户 1709 下线，在线人数：1
2024-01-17 09:57:21 - log.py[line:18] - INFO: 客户端断开连接
2024-01-17 09:57:21 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-17 09:57:25 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6014) - "WebSocket /ws/1" [accepted]
2024-01-17 09:57:25 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-17 09:57:28 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6018) - "WebSocket /ws/1709" [accepted]
2024-01-17 09:57:28 - log.py[line:18] - INFO: 用户 1709 上线，在线人数：2
2024-01-17 09:57:28 - log.py[line:18] - INFO: 用户 1709 下线，在线人数：1
2024-01-17 09:57:28 - log.py[line:18] - INFO: 客户端断开连接
2024-01-17 09:57:28 - log.py[line:18] - INFO: 用户 1709 下线，在线人数：1
2024-01-17 09:57:35 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6035) - "WebSocket /ws/1709" [accepted]
2024-01-17 09:57:35 - log.py[line:18] - INFO: 用户 1709 上线，在线人数：2
2024-01-17 09:57:35 - log.py[line:18] - INFO: 用户 1709 下线，在线人数：1
2024-01-17 09:57:35 - log.py[line:18] - INFO: 客户端断开连接
2024-01-17 09:57:35 - log.py[line:18] - INFO: 用户 1709 下线，在线人数：1
2024-01-17 09:57:40 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6043) - "WebSocket /ws/1709" [accepted]
2024-01-17 09:57:40 - log.py[line:18] - INFO: 用户 1709 上线，在线人数：2
2024-01-17 09:57:40 - log.py[line:18] - INFO: 用户 1709 下线，在线人数：1
2024-01-17 09:57:40 - log.py[line:18] - INFO: 客户端断开连接
2024-01-17 09:57:40 - log.py[line:18] - INFO: 用户 1709 下线，在线人数：1
2024-01-17 09:57:45 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6049) - "WebSocket /ws/1709" [accepted]
2024-01-17 09:57:45 - log.py[line:18] - INFO: 用户 1709 上线，在线人数：2
2024-01-17 09:57:45 - log.py[line:18] - INFO: 用户 1709 下线，在线人数：1
2024-01-17 09:57:45 - log.py[line:18] - INFO: 客户端断开连接
2024-01-17 09:57:45 - log.py[line:18] - INFO: 用户 1709 下线，在线人数：1
2024-01-17 09:57:50 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6056) - "WebSocket /ws/1709" [accepted]
2024-01-17 09:57:50 - log.py[line:18] - INFO: 用户 1709 上线，在线人数：2
2024-01-17 09:57:50 - log.py[line:18] - INFO: 用户 1709 下线，在线人数：1
2024-01-17 09:57:50 - log.py[line:18] - INFO: 客户端断开连接
2024-01-17 09:57:50 - log.py[line:18] - INFO: 用户 1709 下线，在线人数：1
2024-01-17 09:57:51 - log.py[line:18] - INFO: 用户 1 下线，在线人数：1
2024-01-17 09:57:55 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6070) - "WebSocket /ws/1709" [accepted]
2024-01-17 09:57:55 - log.py[line:18] - INFO: 用户 1709 上线，在线人数：2
2024-01-17 09:57:55 - log.py[line:18] - INFO: 用户 1709 下线，在线人数：1
2024-01-17 09:57:55 - log.py[line:18] - INFO: 客户端断开连接
2024-01-17 09:57:55 - log.py[line:18] - INFO: 用户 1709 下线，在线人数：1
2024-01-17 09:58:00 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6074) - "WebSocket /ws/1709" [accepted]
2024-01-17 09:58:00 - log.py[line:18] - INFO: 用户 1709 上线，在线人数：2
2024-01-17 09:58:00 - log.py[line:18] - INFO: 用户 1709 下线，在线人数：1
2024-01-17 09:58:00 - log.py[line:18] - INFO: 客户端断开连接
2024-01-17 09:58:00 - log.py[line:18] - INFO: 用户 1709 下线，在线人数：1
2024-01-17 09:58:05 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6085) - "WebSocket /ws/1709" [accepted]
2024-01-17 09:58:05 - log.py[line:18] - INFO: 用户 1709 上线，在线人数：2
2024-01-17 09:58:05 - log.py[line:18] - INFO: 用户 1709 下线，在线人数：1
2024-01-17 09:58:05 - log.py[line:18] - INFO: 客户端断开连接
2024-01-17 09:58:05 - log.py[line:18] - INFO: 用户 1709 下线，在线人数：1
2024-01-17 09:58:10 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6094) - "WebSocket /ws/1709" [accepted]
2024-01-17 09:58:10 - log.py[line:18] - INFO: 用户 1709 上线，在线人数：2
2024-01-17 09:58:10 - log.py[line:18] - INFO: 用户 1709 下线，在线人数：1
2024-01-17 09:58:10 - log.py[line:18] - INFO: 客户端断开连接
2024-01-17 09:58:10 - log.py[line:18] - INFO: 用户 1709 下线，在线人数：1
2024-01-17 09:58:15 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6105) - "WebSocket /ws/1709" [accepted]
2024-01-17 09:58:15 - log.py[line:18] - INFO: 用户 1709 上线，在线人数：2
2024-01-17 09:58:15 - log.py[line:18] - INFO: 用户 1709 下线，在线人数：1
2024-01-17 09:58:15 - log.py[line:18] - INFO: 客户端断开连接
2024-01-17 09:58:15 - log.py[line:18] - INFO: 用户 1709 下线，在线人数：1
2024-01-17 09:58:20 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6110) - "WebSocket /ws/1709" [accepted]
2024-01-17 09:58:20 - log.py[line:18] - INFO: 用户 1709 上线，在线人数：2
2024-01-17 09:58:20 - log.py[line:18] - INFO: 用户 1709 下线，在线人数：1
2024-01-17 09:58:20 - log.py[line:18] - INFO: 客户端断开连接
2024-01-17 09:58:20 - log.py[line:18] - INFO: 用户 1709 下线，在线人数：1
2024-01-17 09:58:25 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6119) - "WebSocket /ws/1709" [accepted]
2024-01-17 09:58:25 - log.py[line:18] - INFO: 用户 1709 上线，在线人数：2
2024-01-17 09:58:25 - log.py[line:18] - INFO: 用户 1709 下线，在线人数：1
2024-01-17 09:58:25 - log.py[line:18] - INFO: 客户端断开连接
2024-01-17 09:58:25 - log.py[line:18] - INFO: 用户 1709 下线，在线人数：1
2024-01-17 09:58:26 - log.py[line:18] - INFO: 客户端断开连接
2024-01-17 09:58:26 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-17 09:58:29 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6140) - "WebSocket /ws/1" [accepted]
2024-01-17 09:58:29 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-17 09:58:31 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6144) - "WebSocket /ws/1736" [accepted]
2024-01-17 09:58:31 - log.py[line:18] - INFO: 用户 1736 上线，在线人数：2
2024-01-17 09:58:51 - log.py[line:18] - INFO: 用户 1736 下线，在线人数：2
2024-01-17 09:58:51 - log.py[line:18] - INFO: 用户 1 下线，在线人数：2
2024-01-17 10:00:00 - log.py[line:18] - INFO: 客户端断开连接
2024-01-17 10:00:00 - log.py[line:18] - INFO: 用户 1 下线，在线人数：1
2024-01-17 10:00:02 - log.py[line:18] - INFO: 客户端断开连接
2024-01-17 10:00:02 - log.py[line:18] - INFO: 用户 1736 下线，在线人数：0
2024-01-17 10:00:41 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6406) - "WebSocket /ws/1" [accepted]
2024-01-17 10:00:41 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-17 10:00:42 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6413) - "WebSocket /ws/1736" [accepted]
2024-01-17 10:00:42 - log.py[line:18] - INFO: 用户 1736 上线，在线人数：2
2024-01-17 10:01:07 - log.py[line:18] - INFO: 用户 1736 下线，在线人数：2
2024-01-17 10:01:07 - log.py[line:18] - INFO: 用户 1 下线，在线人数：2
2024-01-17 10:09:32 - log.py[line:18] - INFO: 客户端断开连接
2024-01-17 10:09:32 - log.py[line:18] - INFO: 用户 1 下线，在线人数：1
2024-01-17 10:09:32 - log.py[line:18] - INFO: 客户端断开连接
2024-01-17 10:09:32 - log.py[line:18] - INFO: 用户 1736 下线，在线人数：0
2024-01-17 10:09:36 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 7290) - "WebSocket /ws/1" [accepted]
2024-01-17 10:09:36 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-17 10:09:37 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 7300) - "WebSocket /ws/1736" [accepted]
2024-01-17 10:09:37 - log.py[line:18] - INFO: 用户 1736 上线，在线人数：2
2024-01-17 10:09:55 - log.py[line:18] - INFO: 用户 1736 下线，在线人数：2
2024-01-17 10:09:55 - log.py[line:18] - INFO: 用户 1 下线，在线人数：2
2024-01-17 10:13:41 - log.py[line:18] - INFO: 客户端断开连接
2024-01-17 10:13:41 - log.py[line:18] - INFO: 用户 1736 下线，在线人数：1
2024-01-17 10:13:41 - log.py[line:18] - INFO: 客户端断开连接
2024-01-17 10:13:41 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-17 10:14:13 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 7748) - "WebSocket /ws/1" [accepted]
2024-01-17 10:14:13 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-17 10:14:15 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 7752) - "WebSocket /ws/1736" [accepted]
2024-01-17 10:14:15 - log.py[line:18] - INFO: 用户 1736 上线，在线人数：2
2024-01-17 10:14:42 - log.py[line:18] - INFO: 用户 1736 下线，在线人数：2
2024-01-17 10:14:42 - log.py[line:18] - INFO: 用户 1 下线，在线人数：2
2024-01-17 10:14:55 - log.py[line:18] - INFO: 客户端断开连接
2024-01-17 10:14:55 - log.py[line:18] - INFO: 用户 1736 下线，在线人数：1
2024-01-17 10:14:55 - log.py[line:18] - INFO: 客户端断开连接
2024-01-17 10:14:55 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-17 10:14:59 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 7839) - "WebSocket /ws/1" [accepted]
2024-01-17 10:14:59 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-17 10:14:59 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 7841) - "WebSocket /ws/1736" [accepted]
2024-01-17 10:14:59 - log.py[line:18] - INFO: 用户 1736 上线，在线人数：2
2024-01-17 10:15:28 - log.py[line:18] - INFO: 用户 1736 下线，在线人数：2
2024-01-17 10:15:28 - log.py[line:18] - INFO: 用户 1 下线，在线人数：2
2024-01-17 10:19:27 - log.py[line:18] - INFO: 客户端断开连接
2024-01-17 10:19:27 - log.py[line:18] - INFO: 用户 1 下线，在线人数：1
2024-01-17 10:19:27 - log.py[line:18] - INFO: 客户端断开连接
2024-01-17 10:19:27 - log.py[line:18] - INFO: 用户 1736 下线，在线人数：0
2024-01-17 10:19:30 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 8344) - "WebSocket /ws/1" [accepted]
2024-01-17 10:19:30 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-17 10:19:31 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 8345) - "WebSocket /ws/1736" [accepted]
2024-01-17 10:19:31 - log.py[line:18] - INFO: 用户 1736 上线，在线人数：2
2024-01-17 10:19:32 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 8348) - "WebSocket /ws/1736" [accepted]
2024-01-17 10:19:32 - log.py[line:18] - INFO: 用户 1736 下线，在线人数：1
2024-01-17 10:19:32 - log.py[line:18] - INFO: 用户 1736 被顶号
2024-01-17 10:19:32 - log.py[line:18] - INFO: 用户 1736 上线，在线人数：2
2024-01-17 10:19:32 - log.py[line:18] - INFO: 客户端断开连接
2024-01-17 10:19:32 - log.py[line:18] - INFO: 用户 1736 下线，在线人数：1
2024-01-17 10:19:32 - log.py[line:18] - INFO: 客户端断开连接
2024-01-17 10:19:32 - log.py[line:18] - INFO: 用户 1736 下线，在线人数：1
2024-01-17 10:19:39 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 8368) - "WebSocket /ws/1736" [accepted]
2024-01-17 10:19:39 - log.py[line:18] - INFO: 用户 1736 上线，在线人数：2
2024-01-17 10:20:00 - log.py[line:18] - INFO: 用户 1736 下线，在线人数：2
2024-01-17 10:20:00 - log.py[line:18] - INFO: 用户 1 下线，在线人数：2
2024-01-17 10:20:45 - statreload.py[line:41] - WARNING: StatReload detected file change in 'server_module\handler_module\handler_fight.py'. Reloading...
2024-01-17 10:20:45 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-17 10:20:46 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-17 10:20:46 - server.py[line:84] - INFO: Started server process [31044]
2024-01-17 10:20:46 - on.py[line:45] - INFO: Waiting for application startup.
2024-01-17 10:20:47 - core.py[line:91] - INFO: Connected to database mysql+pymysql://meta1_xfx_hk:********@82.156.31.158:3306/meta1_xfx_hk?charset=utf8mb4
2024-01-17 10:20:47 - on.py[line:59] - INFO: Application startup complete.
2024-01-17 10:20:47 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 8493) - "WebSocket /ws/1736" [accepted]
2024-01-17 10:20:47 - log.py[line:18] - INFO: 用户 1736 上线，在线人数：1
2024-01-17 10:20:48 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 8494) - "WebSocket /ws/1" [accepted]
2024-01-17 10:20:48 - log.py[line:18] - INFO: 用户 1 上线，在线人数：2
2024-01-17 10:20:57 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-17 10:20:57 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler.py", line 24, in wrapper
    resp = await func(*args, **kwargs)

2024-01-17 10:20:57 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler.py", line 65, in handle_msg
    await self.handler_module[data["type"]].handle(proto_util.from_json_dict(data))

2024-01-17 10:20:57 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler_module\handler_fight.py", line 27, in handle
    await getattr(obj, data["func"])(data["user_id"], data)

2024-01-17 10:20:57 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler_module\handler_fight.py", line 435, in start_match
    await misc.raise_exception(user_id, "用户已处于战斗中")

2024-01-17 10:20:57 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\misc.py", line 61, in raise_exception
    raise AppException(HttpResp.FAILED, msg=msg)

2024-01-17 10:20:57 - log.py[line:18] - INFO: base.base.AppException: 300: 用户已处于战斗中

2024-01-17 10:21:18 - log.py[line:18] - INFO: 用户 1736 下线，在线人数：2
2024-01-17 10:21:18 - log.py[line:18] - INFO: 用户 1 下线，在线人数：2
2024-01-17 10:22:28 - log.py[line:18] - INFO: 客户端断开连接
2024-01-17 10:22:28 - log.py[line:18] - INFO: 用户 1736 下线，在线人数：1
2024-01-17 10:22:28 - log.py[line:18] - INFO: 客户端断开连接
2024-01-17 10:22:28 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-17 10:22:40 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 8682) - "WebSocket /ws/1" [accepted]
2024-01-17 10:22:40 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-17 10:22:40 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 8684) - "WebSocket /ws/1736" [accepted]
2024-01-17 10:22:40 - log.py[line:18] - INFO: 用户 1736 上线，在线人数：2
2024-01-17 10:23:03 - log.py[line:18] - INFO: 用户 1736 下线，在线人数：2
2024-01-17 10:23:03 - log.py[line:18] - INFO: 用户 1 下线，在线人数：2
2024-01-17 10:23:39 - log.py[line:18] - INFO: 客户端断开连接
2024-01-17 10:23:39 - log.py[line:18] - INFO: 用户 1736 下线，在线人数：1
2024-01-17 10:23:39 - log.py[line:18] - INFO: 客户端断开连接
2024-01-17 10:23:39 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-17 10:23:52 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 8832) - "WebSocket /ws/1" [accepted]
2024-01-17 10:23:52 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-17 10:23:54 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 8834) - "WebSocket /ws/1736" [accepted]
2024-01-17 10:23:54 - log.py[line:18] - INFO: 用户 1736 上线，在线人数：2
2024-01-17 10:24:19 - log.py[line:18] - INFO: 用户 1736 下线，在线人数：2
2024-01-17 10:24:19 - log.py[line:18] - INFO: 用户 1 下线，在线人数：2
2024-01-17 10:25:38 - log.py[line:18] - INFO: 客户端断开连接
2024-01-17 10:25:38 - log.py[line:18] - INFO: 用户 1 下线，在线人数：1
2024-01-17 10:25:38 - log.py[line:18] - INFO: 客户端断开连接
2024-01-17 10:25:38 - log.py[line:18] - INFO: 用户 1736 下线，在线人数：0
2024-01-17 10:25:42 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 9016) - "WebSocket /ws/1" [accepted]
2024-01-17 10:25:42 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-17 10:25:43 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 9020) - "WebSocket /ws/1736" [accepted]
2024-01-17 10:25:43 - log.py[line:18] - INFO: 用户 1736 上线，在线人数：2
2024-01-17 10:25:43 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 9022) - "WebSocket /ws/1" [accepted]
2024-01-17 10:25:43 - log.py[line:18] - INFO: 用户 1 下线，在线人数：1
2024-01-17 10:25:43 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-17 10:25:43 - log.py[line:18] - INFO: 用户 1 上线，在线人数：2
2024-01-17 10:25:43 - log.py[line:18] - INFO: 客户端断开连接
2024-01-17 10:25:43 - log.py[line:18] - INFO: 用户 1 下线，在线人数：1
2024-01-17 10:25:43 - log.py[line:18] - INFO: 客户端断开连接
2024-01-17 10:25:43 - log.py[line:18] - INFO: 用户 1 下线，在线人数：1
2024-01-17 10:25:47 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 9036) - "WebSocket /ws/1" [accepted]
2024-01-17 10:25:47 - log.py[line:18] - INFO: 用户 1 上线，在线人数：2
2024-01-17 10:26:05 - log.py[line:18] - INFO: 用户 1736 下线，在线人数：2
2024-01-17 10:26:05 - log.py[line:18] - INFO: 用户 1 下线，在线人数：2
2024-01-17 10:26:58 - log.py[line:18] - INFO: 客户端断开连接
2024-01-17 10:26:58 - log.py[line:18] - INFO: 用户 1736 下线，在线人数：1
2024-01-17 10:26:58 - log.py[line:18] - INFO: 客户端断开连接
2024-01-17 10:26:58 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-17 10:27:01 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 9188) - "WebSocket /ws/1" [accepted]
2024-01-17 10:27:01 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-17 10:27:04 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 9191) - "WebSocket /ws/1736" [accepted]
2024-01-17 10:27:04 - log.py[line:18] - INFO: 用户 1736 上线，在线人数：2
2024-01-17 10:27:20 - log.py[line:18] - INFO: 用户 1736 下线，在线人数：2
2024-01-17 10:27:20 - log.py[line:18] - INFO: 用户 1 下线，在线人数：2
2024-01-17 10:27:21 - log.py[line:18] - INFO: 客户端断开连接
2024-01-17 10:27:21 - log.py[line:18] - INFO: 用户 1 下线，在线人数：1
2024-01-17 10:27:22 - log.py[line:18] - INFO: 客户端断开连接
2024-01-17 10:27:22 - log.py[line:18] - INFO: 用户 1736 下线，在线人数：0
2024-01-17 11:09:57 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 1235) - "WebSocket /ws/1" [accepted]
2024-01-17 11:09:57 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-17 11:09:58 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 1247) - "WebSocket /ws/1736" [accepted]
2024-01-17 11:09:58 - log.py[line:18] - INFO: 用户 1736 上线，在线人数：2
2024-01-17 11:10:23 - log.py[line:18] - INFO: 用户 1736 下线，在线人数：2
2024-01-17 11:10:23 - log.py[line:18] - INFO: 用户 1 下线，在线人数：2
2024-01-17 11:11:23 - log.py[line:18] - INFO: 客户端断开连接
2024-01-17 11:11:23 - log.py[line:18] - INFO: 用户 1 下线，在线人数：1
2024-01-17 11:11:23 - log.py[line:18] - INFO: 客户端断开连接
2024-01-17 11:11:23 - log.py[line:18] - INFO: 用户 1736 下线，在线人数：0
2024-01-17 11:54:08 - statreload.py[line:41] - WARNING: StatReload detected file change in 'mgr\fight_logic_mgr.py'. Reloading...
2024-01-17 11:54:08 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-17 11:54:09 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-17 11:54:09 - server.py[line:84] - INFO: Started server process [25144]
2024-01-17 11:54:09 - on.py[line:45] - INFO: Waiting for application startup.
2024-01-17 11:54:10 - core.py[line:91] - INFO: Connected to database mysql+pymysql://meta1_xfx_hk:********@82.156.31.158:3306/meta1_xfx_hk?charset=utf8mb4
2024-01-17 11:54:10 - on.py[line:59] - INFO: Application startup complete.
2024-01-17 12:17:53 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 14092) - "WebSocket /ws/1" [accepted]
2024-01-17 12:17:53 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-17 12:17:54 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 14102) - "WebSocket /ws/1736" [accepted]
2024-01-17 12:17:54 - log.py[line:18] - INFO: 用户 1736 上线，在线人数：2
2024-01-17 12:18:24 - log.py[line:18] - INFO: 用户 1736 下线，在线人数：2
2024-01-17 12:18:24 - log.py[line:18] - INFO: 用户 1 下线，在线人数：2
2024-01-17 12:20:26 - log.py[line:18] - INFO: 客户端断开连接
2024-01-17 12:20:26 - log.py[line:18] - INFO: 用户 1 下线，在线人数：1
2024-01-17 12:20:27 - log.py[line:18] - INFO: 客户端断开连接
2024-01-17 12:20:27 - log.py[line:18] - INFO: 用户 1736 下线，在线人数：0
2024-01-17 12:21:21 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 14484) - "WebSocket /ws/1" [accepted]
2024-01-17 12:21:21 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-17 12:21:23 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 14489) - "WebSocket /ws/1736" [accepted]
2024-01-17 12:21:23 - log.py[line:18] - INFO: 用户 1736 上线，在线人数：2
2024-01-17 12:21:40 - log.py[line:18] - INFO: 用户 1736 下线，在线人数：2
2024-01-17 12:21:40 - log.py[line:18] - INFO: 用户 1 下线，在线人数：2
2024-01-17 12:23:07 - statreload.py[line:41] - WARNING: StatReload detected file change in 'server_module\handler_module\handler_fight.py'. Reloading...
2024-01-17 12:23:07 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-17 12:23:08 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-17 12:23:08 - server.py[line:84] - INFO: Started server process [2508]
2024-01-17 12:23:08 - on.py[line:45] - INFO: Waiting for application startup.
2024-01-17 12:23:09 - core.py[line:91] - INFO: Connected to database mysql+pymysql://meta1_xfx_hk:********@82.156.31.158:3306/meta1_xfx_hk?charset=utf8mb4
2024-01-17 12:23:09 - on.py[line:59] - INFO: Application startup complete.
2024-01-17 12:23:09 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 14646) - "WebSocket /ws/1" [accepted]
2024-01-17 12:23:09 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-17 12:23:10 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 14649) - "WebSocket /ws/1736" [accepted]
2024-01-17 12:23:10 - log.py[line:18] - INFO: 用户 1736 上线，在线人数：2
2024-01-17 12:23:11 - log.py[line:18] - INFO: 客户端断开连接
2024-01-17 12:23:11 - log.py[line:18] - INFO: 用户 1 下线，在线人数：1
2024-01-17 12:23:12 - log.py[line:18] - INFO: 客户端断开连接
2024-01-17 12:23:12 - log.py[line:18] - INFO: 用户 1736 下线，在线人数：0
2024-01-17 12:23:40 - log.py[line:18] - INFO: 用户 1736 下线，在线人数：0
2024-01-17 12:23:40 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-17 18:30:39 - basereload.py[line:90] - INFO: Stopping reloader process [36588]
2024-01-18 10:43:08 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-18 10:43:08 - config.py[line:342] - INFO: Will watch for changes in these directories: ['D:\\CocosProject\\wb\\game_server\\src']
2024-01-18 10:43:08 - config.py[line:562] - INFO: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2024-01-18 10:43:08 - basereload.py[line:59] - INFO: Started reloader process [19920] using statreload
2024-01-18 10:43:09 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-18 10:43:10 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-18 10:43:10 - server.py[line:84] - INFO: Started server process [44008]
2024-01-18 10:43:10 - on.py[line:45] - INFO: Waiting for application startup.
2024-01-18 10:43:10 - core.py[line:91] - INFO: Connected to database mysql+pymysql://meta1_xfx_hk:********@82.156.31.158:3306/meta1_xfx_hk?charset=utf8mb4
2024-01-18 10:43:10 - on.py[line:59] - INFO: Application startup complete.
2024-01-18 10:44:00 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 10:44:00 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\mgr\timer_mgr.py", line 93, in loop
    schedule.run_pending()

2024-01-18 10:44:00 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\schedule\__init__.py", line 780, in run_pending
    default_scheduler.run_pending()

2024-01-18 10:44:00 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\schedule\__init__.py", line 100, in run_pending
    self._run_job(job)

2024-01-18 10:44:00 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\schedule\__init__.py", line 172, in _run_job
    ret = job.run()

2024-01-18 10:44:00 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\schedule\__init__.py", line 661, in run
    ret = self.job_func()

2024-01-18 10:44:00 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\mgr\timer_mgr.py", line 22, in day_task
    loop.run_until_complete(LogicCommon.getObj().day_refresh_user_login())  # 重置用户日首次登录

2024-01-18 10:44:00 - log.py[line:18] - INFO:   File "D:\Python\Python36\lib\asyncio\base_events.py", line 471, in run_until_complete
    self.run_forever()

2024-01-18 10:44:00 - log.py[line:18] - INFO:   File "D:\Python\Python36\lib\asyncio\base_events.py", line 425, in run_forever
    raise RuntimeError('This event loop is already running')

2024-01-18 10:44:00 - log.py[line:18] - INFO: RuntimeError: This event loop is already running

2024-01-18 10:44:00 - base_events.py[line:1285] - ERROR: Task exception was never retrieved
future: <Task finished coro=<TimerMgr.loop() done, defined at D:\CocosProject\wb\game_server\src\mgr\timer_mgr.py:89> exception=RuntimeError('This event loop is already running',)>
Traceback (most recent call last):
  File "D:\CocosProject\wb\game_server\src\mgr\timer_mgr.py", line 93, in loop
    schedule.run_pending()
  File "D:\PyProject\game_server\venv\lib\site-packages\schedule\__init__.py", line 780, in run_pending
    default_scheduler.run_pending()
  File "D:\PyProject\game_server\venv\lib\site-packages\schedule\__init__.py", line 100, in run_pending
    self._run_job(job)
  File "D:\PyProject\game_server\venv\lib\site-packages\schedule\__init__.py", line 172, in _run_job
    ret = job.run()
  File "D:\PyProject\game_server\venv\lib\site-packages\schedule\__init__.py", line 661, in run
    ret = self.job_func()
  File "D:\CocosProject\wb\game_server\src\mgr\timer_mgr.py", line 22, in day_task
    loop.run_until_complete(LogicCommon.getObj().day_refresh_user_login())  # 重置用户日首次登录
  File "D:\Python\Python36\lib\asyncio\base_events.py", line 471, in run_until_complete
    self.run_forever()
  File "D:\Python\Python36\lib\asyncio\base_events.py", line 425, in run_forever
    raise RuntimeError('This event loop is already running')
RuntimeError: This event loop is already running
2024-01-18 10:44:00 - log.py[line:18] - INFO: 重置用户日首次登录
2024-01-18 10:44:43 - statreload.py[line:41] - WARNING: StatReload detected file change in 'mgr\timer_mgr.py'. Reloading...
2024-01-18 10:44:43 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-18 10:44:44 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-18 10:44:44 - server.py[line:84] - INFO: Started server process [27720]
2024-01-18 10:44:44 - on.py[line:45] - INFO: Waiting for application startup.
2024-01-18 10:44:45 - core.py[line:91] - INFO: Connected to database mysql+pymysql://meta1_xfx_hk:********@82.156.31.158:3306/meta1_xfx_hk?charset=utf8mb4
2024-01-18 10:44:45 - on.py[line:59] - INFO: Application startup complete.
2024-01-18 10:45:39 - statreload.py[line:41] - WARNING: StatReload detected file change in 'mgr\timer_mgr.py'. Reloading...
2024-01-18 10:45:39 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-18 10:45:40 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-18 10:45:40 - server.py[line:84] - INFO: Started server process [11736]
2024-01-18 10:45:40 - on.py[line:45] - INFO: Waiting for application startup.
2024-01-18 10:45:41 - core.py[line:91] - INFO: Connected to database mysql+pymysql://meta1_xfx_hk:********@82.156.31.158:3306/meta1_xfx_hk?charset=utf8mb4
2024-01-18 10:45:41 - on.py[line:119] - ERROR: Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 635, in lifespan
    async with self.lifespan_context(app):
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 530, in __aenter__
    await self._router.startup()
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 612, in startup
    await handler()
  File "D:\CocosProject\wb\game_server\src\starter\main_start.py", line 81, in startup
    await timer_mgr.startTimer()
  File "D:\CocosProject\wb\game_server\src\mgr\timer_mgr.py", line 15, in startTimer
    await TimerMgr.getObj().startLoop()
  File "D:\CocosProject\wb\game_server\src\mgr\timer_mgr.py", line 38, in startLoop
    day_task()
  File "D:\CocosProject\wb\game_server\src\mgr\timer_mgr.py", line 22, in day_task
    loop.run_until_complete(LogicCommon.getObj().day_refresh_user_login())  # 重置用户日首次登录
  File "D:\Python\Python36\lib\asyncio\base_events.py", line 471, in run_until_complete
    self.run_forever()
  File "D:\Python\Python36\lib\asyncio\base_events.py", line 425, in run_forever
    raise RuntimeError('This event loop is already running')
RuntimeError: This event loop is already running

2024-01-18 10:45:41 - log.py[line:18] - INFO: 重置用户日首次登录
2024-01-18 10:45:41 - on.py[line:56] - ERROR: Application startup failed. Exiting.
2024-01-18 10:45:41 - basereload.py[line:90] - INFO: Stopping reloader process [19920]
2024-01-18 10:46:05 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-18 10:46:05 - config.py[line:342] - INFO: Will watch for changes in these directories: ['D:\\CocosProject\\wb\\game_server\\src']
2024-01-18 10:46:05 - config.py[line:562] - INFO: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2024-01-18 10:46:05 - basereload.py[line:59] - INFO: Started reloader process [43784] using statreload
2024-01-18 10:46:05 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-18 10:46:06 - basereload.py[line:90] - INFO: Stopping reloader process [43784]
2024-01-18 10:46:16 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-18 10:46:16 - config.py[line:342] - INFO: Will watch for changes in these directories: ['D:\\CocosProject\\wb\\game_server\\src']
2024-01-18 10:46:16 - config.py[line:562] - INFO: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2024-01-18 10:46:16 - basereload.py[line:59] - INFO: Started reloader process [42736] using statreload
2024-01-18 10:46:17 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-18 10:46:17 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-18 10:46:17 - server.py[line:84] - INFO: Started server process [37116]
2024-01-18 10:46:17 - on.py[line:45] - INFO: Waiting for application startup.
2024-01-18 10:46:18 - core.py[line:91] - INFO: Connected to database mysql+pymysql://meta1_xfx_hk:********@82.156.31.158:3306/meta1_xfx_hk?charset=utf8mb4
2024-01-18 10:46:18 - on.py[line:59] - INFO: Application startup complete.
2024-01-18 10:46:32 - statreload.py[line:41] - WARNING: StatReload detected file change in 'mgr\timer_mgr.py'. Reloading...
2024-01-18 10:46:32 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-18 10:46:33 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-18 10:46:33 - server.py[line:84] - INFO: Started server process [31980]
2024-01-18 10:46:33 - on.py[line:45] - INFO: Waiting for application startup.
2024-01-18 10:46:35 - core.py[line:91] - INFO: Connected to database mysql+pymysql://meta1_xfx_hk:********@82.156.31.158:3306/meta1_xfx_hk?charset=utf8mb4
2024-01-18 10:46:35 - log.py[line:18] - INFO: 重置用户日首次登录
2024-01-18 10:46:36 - on.py[line:59] - INFO: Application startup complete.
2024-01-18 10:46:50 - statreload.py[line:41] - WARNING: StatReload detected file change in 'server_module\logic\logic_common.py'. Reloading...
2024-01-18 10:46:50 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-18 10:46:51 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-18 10:46:51 - server.py[line:84] - INFO: Started server process [11556]
2024-01-18 10:46:51 - on.py[line:45] - INFO: Waiting for application startup.
2024-01-18 10:46:52 - core.py[line:91] - INFO: Connected to database mysql+pymysql://meta1_xfx_hk:********@82.156.31.158:3306/meta1_xfx_hk?charset=utf8mb4
2024-01-18 10:46:52 - log.py[line:18] - INFO: 重置用户日首次登录
2024-01-18 10:46:54 - on.py[line:59] - INFO: Application startup complete.
2024-01-18 10:49:27 - server.py[line:263] - INFO: Shutting down
2024-01-18 10:49:27 - basereload.py[line:90] - INFO: Stopping reloader process [42736]
2024-01-18 10:49:28 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-18 10:49:28 - config.py[line:342] - INFO: Will watch for changes in these directories: ['D:\\CocosProject\\wb\\game_server\\src']
2024-01-18 10:49:28 - config.py[line:562] - INFO: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2024-01-18 10:49:28 - basereload.py[line:59] - INFO: Started reloader process [37280] using statreload
2024-01-18 10:49:28 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-18 10:49:29 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-18 10:49:29 - server.py[line:84] - INFO: Started server process [21184]
2024-01-18 10:49:29 - on.py[line:45] - INFO: Waiting for application startup.
2024-01-18 10:49:30 - core.py[line:91] - INFO: Connected to database mysql+pymysql://meta1_xfx_hk:********@82.156.31.158:3306/meta1_xfx_hk?charset=utf8mb4
2024-01-18 10:49:30 - log.py[line:18] - INFO: 重置用户日首次登录
2024-01-18 10:49:32 - on.py[line:59] - INFO: Application startup complete.
2024-01-18 10:49:53 - statreload.py[line:41] - WARNING: StatReload detected file change in 'mgr\timer_mgr.py'. Reloading...
2024-01-18 10:49:53 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-18 10:49:54 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-18 10:49:54 - server.py[line:84] - INFO: Started server process [41028]
2024-01-18 10:49:54 - on.py[line:45] - INFO: Waiting for application startup.
2024-01-18 10:49:54 - basereload.py[line:90] - INFO: Stopping reloader process [37280]
2024-01-18 10:49:55 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-18 10:49:55 - config.py[line:342] - INFO: Will watch for changes in these directories: ['D:\\CocosProject\\wb\\game_server\\src']
2024-01-18 10:49:55 - config.py[line:562] - INFO: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2024-01-18 10:49:55 - basereload.py[line:59] - INFO: Started reloader process [8684] using statreload
2024-01-18 10:49:55 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-18 10:49:56 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-18 10:49:56 - server.py[line:84] - INFO: Started server process [3168]
2024-01-18 10:49:56 - on.py[line:45] - INFO: Waiting for application startup.
2024-01-18 10:49:57 - core.py[line:91] - INFO: Connected to database mysql+pymysql://meta1_xfx_hk:********@82.156.31.158:3306/meta1_xfx_hk?charset=utf8mb4
2024-01-18 10:49:57 - on.py[line:59] - INFO: Application startup complete.
2024-01-18 10:49:58 - server.py[line:263] - INFO: Shutting down
2024-01-18 10:49:58 - basereload.py[line:90] - INFO: Stopping reloader process [8684]
2024-01-18 18:27:49 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-18 18:27:49 - config.py[line:342] - INFO: Will watch for changes in these directories: ['D:\\CocosProject\\wb\\game_server\\src']
2024-01-18 18:27:49 - config.py[line:562] - INFO: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2024-01-18 18:27:49 - basereload.py[line:59] - INFO: Started reloader process [25792] using statreload
2024-01-18 18:27:49 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-18 18:27:50 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-18 18:27:50 - server.py[line:84] - INFO: Started server process [14492]
2024-01-18 18:27:50 - on.py[line:45] - INFO: Waiting for application startup.
2024-01-18 18:27:51 - core.py[line:91] - INFO: Connected to database mysql+pymysql://meta1_xfx_hk:********@82.156.31.158:3306/meta1_xfx_hk?charset=utf8mb4
2024-01-18 18:27:51 - on.py[line:59] - INFO: Application startup complete.
2024-01-18 18:27:53 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 4179) - "WebSocket /ws/1" [accepted]
2024-01-18 18:27:53 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:27:53 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:27:53 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-18 18:27:53 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:27:53 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-18 18:27:53 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-18 18:27:53 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:27:53 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:27:53 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:27:53 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:27:53 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:27:53 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-18 18:27:53 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:27:53 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-18 18:27:53 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-18 18:27:53 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-18 18:27:53 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-18 18:27:53 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-18 18:27:53 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",

2024-01-18 18:27:53 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 91, in send_data
    await conn.send_data(msg)

2024-01-18 18:27:53 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 50, in send_data
    await self.websocket.send_text(message)

2024-01-18 18:27:53 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\websockets.py", line 163, in send_text
    await self.send({"type": "websocket.send", "text": data})

2024-01-18 18:27:53 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)

2024-01-18 18:27:53 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 260, in asgi_send
    await self.send(data)

2024-01-18 18:27:53 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\websockets\legacy\protocol.py", line 471, in send
    await self.ensure_open()

2024-01-18 18:27:53 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\websockets\legacy\protocol.py", line 726, in ensure_open
    raise self.connection_closed_exc()

2024-01-18 18:27:53 - log.py[line:18] - INFO: websockets.exceptions.ConnectionClosedOK: code = 1001 (going away), no reason

2024-01-18 18:27:53 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 91, in send_data
    await conn.send_data(msg)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 50, in send_data
    await self.websocket.send_text(message)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\websockets.py", line 163, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 260, in asgi_send
    await self.send(data)
  File "D:\PyProject\game_server\venv\lib\site-packages\websockets\legacy\protocol.py", line 471, in send
    await self.ensure_open()
  File "D:\PyProject\game_server\venv\lib\site-packages\websockets\legacy\protocol.py", line 726, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedOK: code = 1001 (going away), no reason
2024-01-18 18:27:57 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 4193) - "WebSocket /ws/1" [accepted]
2024-01-18 18:27:57 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:27:57 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-18 18:27:57 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:27:59 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 4197) - "WebSocket /ws/1" [accepted]
2024-01-18 18:27:59 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:27:59 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-18 18:27:59 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:27:59 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:27:59 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:27:59 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:27:59 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:28:03 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 4210) - "WebSocket /ws/1" [accepted]
2024-01-18 18:28:03 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:28:22 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:28:22 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler.py", line 24, in wrapper
    resp = await func(*args, **kwargs)

2024-01-18 18:28:22 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler.py", line 65, in handle_msg
    await self.handler_module[data["type"]].handle(proto_util.from_json_dict(data))

2024-01-18 18:28:22 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler_module\handler_fight.py", line 27, in handle
    await getattr(obj, data["func"])(data["user_id"], data)

2024-01-18 18:28:22 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler_module\handler_fight.py", line 437, in start_match
    dGameQuarry = await sqlplus.getOne(GameQuarry, [User.id == user_id, ])

2024-01-18 18:28:22 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\sql\sqlplus.py", line 84, in getOne
    where.append(cls.is_delete == 0)

2024-01-18 18:28:22 - log.py[line:18] - INFO: AttributeError: type object 'GameQuarry' has no attribute 'is_delete'

2024-01-18 18:28:23 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 4227) - "WebSocket /ws/4" [accepted]
2024-01-18 18:28:23 - log.py[line:18] - INFO: 用户 4 上线，在线人数：2
2024-01-18 18:28:24 - log.py[line:18] - INFO: 用户 1 下线，在线人数：2
2024-01-18 18:28:37 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:28:37 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler.py", line 24, in wrapper
    resp = await func(*args, **kwargs)

2024-01-18 18:28:37 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler.py", line 65, in handle_msg
    await self.handler_module[data["type"]].handle(proto_util.from_json_dict(data))

2024-01-18 18:28:37 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler_module\handler_fight.py", line 27, in handle
    await getattr(obj, data["func"])(data["user_id"], data)

2024-01-18 18:28:37 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler_module\handler_fight.py", line 437, in start_match
    dGameQuarry = await sqlplus.getOne(GameQuarry, [User.id == user_id, ])

2024-01-18 18:28:37 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\sql\sqlplus.py", line 84, in getOne
    where.append(cls.is_delete == 0)

2024-01-18 18:28:37 - log.py[line:18] - INFO: AttributeError: type object 'GameQuarry' has no attribute 'is_delete'

2024-01-18 18:28:39 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:28:39 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler.py", line 24, in wrapper
    resp = await func(*args, **kwargs)

2024-01-18 18:28:39 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler.py", line 65, in handle_msg
    await self.handler_module[data["type"]].handle(proto_util.from_json_dict(data))

2024-01-18 18:28:39 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler_module\handler_fight.py", line 27, in handle
    await getattr(obj, data["func"])(data["user_id"], data)

2024-01-18 18:28:39 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler_module\handler_fight.py", line 437, in start_match
    dGameQuarry = await sqlplus.getOne(GameQuarry, [User.id == user_id, ])

2024-01-18 18:28:39 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\sql\sqlplus.py", line 84, in getOne
    where.append(cls.is_delete == 0)

2024-01-18 18:28:39 - log.py[line:18] - INFO: AttributeError: type object 'GameQuarry' has no attribute 'is_delete'

2024-01-18 18:28:39 - log.py[line:18] - INFO: 用户 4 下线，在线人数：2
2024-01-18 18:29:02 - statreload.py[line:41] - WARNING: StatReload detected file change in 'server_module\handler_module\handler_fight.py'. Reloading...
2024-01-18 18:29:02 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-18 18:29:03 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-18 18:29:03 - server.py[line:84] - INFO: Started server process [32508]
2024-01-18 18:29:03 - on.py[line:45] - INFO: Waiting for application startup.
2024-01-18 18:29:04 - core.py[line:91] - INFO: Connected to database mysql+pymysql://meta1_xfx_hk:********@82.156.31.158:3306/meta1_xfx_hk?charset=utf8mb4
2024-01-18 18:29:04 - on.py[line:59] - INFO: Application startup complete.
2024-01-18 18:29:05 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 4302) - "WebSocket /ws/4" [accepted]
2024-01-18 18:29:05 - log.py[line:18] - INFO: 用户 4 上线，在线人数：1
2024-01-18 18:29:05 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:29:05 - log.py[line:18] - INFO: 用户 4 下线，在线人数：0
2024-01-18 18:29:08 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 4307) - "WebSocket /ws/1" [accepted]
2024-01-18 18:29:08 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:29:09 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 4309) - "WebSocket /ws/1736" [accepted]
2024-01-18 18:29:09 - log.py[line:18] - INFO: 用户 1736 上线，在线人数：2
2024-01-18 18:29:14 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:29:14 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler.py", line 24, in wrapper
    resp = await func(*args, **kwargs)

2024-01-18 18:29:14 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler.py", line 65, in handle_msg
    await self.handler_module[data["type"]].handle(proto_util.from_json_dict(data))

2024-01-18 18:29:14 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler_module\handler_fight.py", line 27, in handle
    await getattr(obj, data["func"])(data["user_id"], data)

2024-01-18 18:29:14 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler_module\handler_fight.py", line 437, in start_match
    dGameQuarry = await sqlplus.getOne(GameQuarry, [GameQuarry.user_id == user_id, ])

2024-01-18 18:29:14 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\sql\sqlplus.py", line 84, in getOne
    where.append(cls.is_delete == 0)

2024-01-18 18:29:14 - log.py[line:18] - INFO: AttributeError: type object 'GameQuarry' has no attribute 'is_delete'

2024-01-18 18:29:15 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:29:15 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler.py", line 24, in wrapper
    resp = await func(*args, **kwargs)

2024-01-18 18:29:15 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler.py", line 65, in handle_msg
    await self.handler_module[data["type"]].handle(proto_util.from_json_dict(data))

2024-01-18 18:29:15 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler_module\handler_fight.py", line 27, in handle
    await getattr(obj, data["func"])(data["user_id"], data)

2024-01-18 18:29:15 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler_module\handler_fight.py", line 437, in start_match
    dGameQuarry = await sqlplus.getOne(GameQuarry, [GameQuarry.user_id == user_id, ])

2024-01-18 18:29:15 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\sql\sqlplus.py", line 84, in getOne
    where.append(cls.is_delete == 0)

2024-01-18 18:29:15 - log.py[line:18] - INFO: AttributeError: type object 'GameQuarry' has no attribute 'is_delete'

2024-01-18 18:29:36 - log.py[line:18] - INFO: 用户 1736 下线，在线人数：2
2024-01-18 18:29:36 - log.py[line:18] - INFO: 用户 1 下线，在线人数：2
2024-01-18 18:29:36 - log.py[line:18] - INFO: 用户 4 下线，在线人数：2
2024-01-18 18:29:41 - statreload.py[line:41] - WARNING: StatReload detected file change in 'server_module\handler_module\handler_fight.py'. Reloading...
2024-01-18 18:29:41 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-18 18:29:42 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-18 18:29:42 - server.py[line:84] - INFO: Started server process [43268]
2024-01-18 18:29:42 - on.py[line:45] - INFO: Waiting for application startup.
2024-01-18 18:29:43 - core.py[line:91] - INFO: Connected to database mysql+pymysql://meta1_xfx_hk:********@82.156.31.158:3306/meta1_xfx_hk?charset=utf8mb4
2024-01-18 18:29:43 - on.py[line:59] - INFO: Application startup complete.
2024-01-18 18:29:45 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 4372) - "WebSocket /ws/1" [accepted]
2024-01-18 18:29:45 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:29:46 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 4374) - "WebSocket /ws/1736" [accepted]
2024-01-18 18:29:46 - log.py[line:18] - INFO: 用户 1736 上线，在线人数：2
2024-01-18 18:29:48 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:29:48 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler.py", line 24, in wrapper
    resp = await func(*args, **kwargs)

2024-01-18 18:29:48 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler.py", line 65, in handle_msg
    await self.handler_module[data["type"]].handle(proto_util.from_json_dict(data))

2024-01-18 18:29:48 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler_module\handler_fight.py", line 27, in handle
    await getattr(obj, data["func"])(data["user_id"], data)

2024-01-18 18:29:48 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler_module\handler_fight.py", line 439, in start_match
    await misc.raise_exception(user_id, "材料不足")

2024-01-18 18:29:48 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\misc.py", line 61, in raise_exception
    raise AppException(HttpResp.FAILED, msg=msg)

2024-01-18 18:29:48 - log.py[line:18] - INFO: base.base.AppException: 300: 材料不足

2024-01-18 18:30:16 - log.py[line:18] - INFO: 用户 1736 下线，在线人数：2
2024-01-18 18:30:16 - log.py[line:18] - INFO: 用户 1 下线，在线人数：2
2024-01-18 18:30:50 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:30:50 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler.py", line 24, in wrapper
    resp = await func(*args, **kwargs)

2024-01-18 18:30:50 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler.py", line 65, in handle_msg
    await self.handler_module[data["type"]].handle(proto_util.from_json_dict(data))

2024-01-18 18:30:50 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler_module\handler_fight.py", line 27, in handle
    await getattr(obj, data["func"])(data["user_id"], data)

2024-01-18 18:30:50 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler_module\handler_fight.py", line 332, in end_round_pvp
    await misc.raise_exception(user_id, "房间已解散")

2024-01-18 18:30:50 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\misc.py", line 61, in raise_exception
    raise AppException(HttpResp.FAILED, msg=msg)

2024-01-18 18:30:50 - log.py[line:18] - INFO: base.base.AppException: 300: 房间已解散

2024-01-18 18:31:02 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:31:02 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler.py", line 24, in wrapper
    resp = await func(*args, **kwargs)

2024-01-18 18:31:02 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler.py", line 65, in handle_msg
    await self.handler_module[data["type"]].handle(proto_util.from_json_dict(data))

2024-01-18 18:31:02 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler_module\handler_fight.py", line 27, in handle
    await getattr(obj, data["func"])(data["user_id"], data)

2024-01-18 18:31:02 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler_module\handler_fight.py", line 442, in start_match
    await misc.raise_exception(user_id, "材料不足")

2024-01-18 18:31:02 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\misc.py", line 61, in raise_exception
    raise AppException(HttpResp.FAILED, msg=msg)

2024-01-18 18:31:02 - log.py[line:18] - INFO: base.base.AppException: 300: 材料不足

2024-01-18 18:31:27 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:31:27 - log.py[line:18] - INFO: 用户 1 下线，在线人数：1
2024-01-18 18:31:28 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:31:28 - log.py[line:18] - INFO: 用户 1736 下线，在线人数：0
2024-01-18 18:31:30 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 4537) - "WebSocket /ws/1" [accepted]
2024-01-18 18:31:30 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:31:33 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 4542) - "WebSocket /ws/1736" [accepted]
2024-01-18 18:31:33 - log.py[line:18] - INFO: 用户 1736 上线，在线人数：2
2024-01-18 18:31:39 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:31:39 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler.py", line 24, in wrapper
    resp = await func(*args, **kwargs)

2024-01-18 18:31:39 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler.py", line 65, in handle_msg
    await self.handler_module[data["type"]].handle(proto_util.from_json_dict(data))

2024-01-18 18:31:39 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler_module\handler_fight.py", line 27, in handle
    await getattr(obj, data["func"])(data["user_id"], data)

2024-01-18 18:31:39 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler_module\handler_fight.py", line 442, in start_match
    await misc.raise_exception(user_id, "材料不足")

2024-01-18 18:31:39 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\misc.py", line 61, in raise_exception
    raise AppException(HttpResp.FAILED, msg=msg)

2024-01-18 18:31:39 - log.py[line:18] - INFO: base.base.AppException: 300: 材料不足

2024-01-18 18:31:47 - log.py[line:18] - INFO: 用户 1 下线，在线人数：2
2024-01-18 18:32:02 - statreload.py[line:41] - WARNING: StatReload detected file change in 'server_module\handler_module\handler_fight.py'. Reloading...
2024-01-18 18:32:02 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-18 18:32:03 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-18 18:32:03 - server.py[line:84] - INFO: Started server process [8544]
2024-01-18 18:32:03 - on.py[line:45] - INFO: Waiting for application startup.
2024-01-18 18:32:03 - core.py[line:91] - INFO: Connected to database mysql+pymysql://meta1_xfx_hk:********@82.156.31.158:3306/meta1_xfx_hk?charset=utf8mb4
2024-01-18 18:32:03 - on.py[line:59] - INFO: Application startup complete.
2024-01-18 18:32:03 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 4583) - "WebSocket /ws/1" [accepted]
2024-01-18 18:32:03 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:32:04 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:32:04 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:32:05 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 4601) - "WebSocket /ws/1736" [accepted]
2024-01-18 18:32:05 - log.py[line:18] - INFO: 用户 1736 上线，在线人数：1
2024-01-18 18:32:05 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:32:05 - log.py[line:18] - INFO: 用户 1736 下线，在线人数：0
2024-01-18 18:32:07 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 4608) - "WebSocket /ws/1" [accepted]
2024-01-18 18:32:07 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:32:09 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:32:09 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler.py", line 24, in wrapper
    resp = await func(*args, **kwargs)

2024-01-18 18:32:09 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler.py", line 65, in handle_msg
    await self.handler_module[data["type"]].handle(proto_util.from_json_dict(data))

2024-01-18 18:32:09 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler_module\handler_fight.py", line 27, in handle
    await getattr(obj, data["func"])(data["user_id"], data)

2024-01-18 18:32:09 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler_module\handler_fight.py", line 443, in start_match
    await misc.raise_exception(user_id, "材料不足")

2024-01-18 18:32:09 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\misc.py", line 61, in raise_exception
    raise AppException(HttpResp.FAILED, msg=msg)

2024-01-18 18:32:09 - log.py[line:18] - INFO: base.base.AppException: 300: 材料不足

2024-01-18 18:32:32 - statreload.py[line:41] - WARNING: StatReload detected file change in 'server_module\handler_module\handler_fight.py'. Reloading...
2024-01-18 18:32:32 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-18 18:32:33 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-18 18:32:33 - server.py[line:84] - INFO: Started server process [27096]
2024-01-18 18:32:33 - on.py[line:45] - INFO: Waiting for application startup.
2024-01-18 18:32:33 - core.py[line:91] - INFO: Connected to database mysql+pymysql://meta1_xfx_hk:********@82.156.31.158:3306/meta1_xfx_hk?charset=utf8mb4
2024-01-18 18:32:33 - on.py[line:59] - INFO: Application startup complete.
2024-01-18 18:33:43 - statreload.py[line:41] - WARNING: StatReload detected file change in 'server_module\handler_module\handler_fight.py'. Reloading...
2024-01-18 18:33:43 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-18 18:33:44 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-18 18:33:44 - server.py[line:84] - INFO: Started server process [19212]
2024-01-18 18:33:44 - on.py[line:45] - INFO: Waiting for application startup.
2024-01-18 18:33:44 - core.py[line:91] - INFO: Connected to database mysql+pymysql://meta1_xfx_hk:********@82.156.31.158:3306/meta1_xfx_hk?charset=utf8mb4
2024-01-18 18:33:44 - on.py[line:59] - INFO: Application startup complete.
2024-01-18 18:33:52 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 4845) - "WebSocket /ws/1" [accepted]
2024-01-18 18:33:52 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:34:00 - statreload.py[line:41] - WARNING: StatReload detected file change in 'server_module\handler_module\handler_fight.py'. Reloading...
2024-01-18 18:34:01 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-18 18:34:01 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-18 18:34:01 - server.py[line:84] - INFO: Started server process [29772]
2024-01-18 18:34:01 - on.py[line:45] - INFO: Waiting for application startup.
2024-01-18 18:34:02 - core.py[line:91] - INFO: Connected to database mysql+pymysql://meta1_xfx_hk:********@82.156.31.158:3306/meta1_xfx_hk?charset=utf8mb4
2024-01-18 18:34:02 - on.py[line:59] - INFO: Application startup complete.
2024-01-18 18:34:03 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 4869) - "WebSocket /ws/1" [accepted]
2024-01-18 18:34:03 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:34:15 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:34:15 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler.py", line 24, in wrapper
    resp = await func(*args, **kwargs)

2024-01-18 18:34:15 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler.py", line 65, in handle_msg
    await self.handler_module[data["type"]].handle(proto_util.from_json_dict(data))

2024-01-18 18:34:15 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler_module\handler_fight.py", line 28, in handle
    await getattr(obj, data["func"])(data["user_id"], data)

2024-01-18 18:34:15 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler_module\handler_fight.py", line 444, in start_match
    await misc.raise_exception(user_id, "材料不足")

2024-01-18 18:34:15 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\misc.py", line 61, in raise_exception
    raise AppException(HttpResp.FAILED, msg=msg)

2024-01-18 18:34:15 - log.py[line:18] - INFO: base.base.AppException: 300: 材料不足

2024-01-18 18:34:21 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:34:21 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler.py", line 24, in wrapper
    resp = await func(*args, **kwargs)

2024-01-18 18:34:21 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler.py", line 65, in handle_msg
    await self.handler_module[data["type"]].handle(proto_util.from_json_dict(data))

2024-01-18 18:34:21 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler_module\handler_fight.py", line 28, in handle
    await getattr(obj, data["func"])(data["user_id"], data)

2024-01-18 18:34:21 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\handler_module\handler_fight.py", line 444, in start_match
    await misc.raise_exception(user_id, "材料不足")

2024-01-18 18:34:21 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\misc.py", line 61, in raise_exception
    raise AppException(HttpResp.FAILED, msg=msg)

2024-01-18 18:34:21 - log.py[line:18] - INFO: base.base.AppException: 300: 材料不足

2024-01-18 18:34:29 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:34:29 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:34:34 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:52:07 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 5951) - "WebSocket /ws/1" [accepted]
2024-01-18 18:52:07 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:52:09 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 5958) - "WebSocket /ws/1" [accepted]
2024-01-18 18:52:09 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:52:09 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:52:09 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:52:09 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-18 18:52:09 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:52:27 - log.py[line:18] - INFO: 用户 1 下线，在线人数：1
2024-01-18 18:53:07 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:53:07 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:53:12 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6031) - "WebSocket /ws/1" [accepted]
2024-01-18 18:53:12 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:53:37 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:53:37 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:53:43 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:53:46 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6074) - "WebSocket /ws/1" [accepted]
2024-01-18 18:53:46 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:53:54 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:53:54 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:53:59 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6110) - "WebSocket /ws/1" [accepted]
2024-01-18 18:53:59 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:54:01 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6114) - "WebSocket /ws/1" [accepted]
2024-01-18 18:54:01 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:54:01 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-18 18:54:01 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:54:01 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:54:01 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:54:01 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:54:01 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:54:28 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:54:43 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6199) - "WebSocket /ws/1" [accepted]
2024-01-18 18:54:43 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:54:45 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6203) - "WebSocket /ws/1" [accepted]
2024-01-18 18:54:45 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:54:45 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-18 18:54:45 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:54:45 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:54:45 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:54:45 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:54:45 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:55:13 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:57:29 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6501) - "WebSocket /ws/1" [accepted]
2024-01-18 18:57:29 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:57:31 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6505) - "WebSocket /ws/1" [accepted]
2024-01-18 18:57:31 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:57:31 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-18 18:57:31 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:57:31 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6506) - "WebSocket /ws/1" [accepted]
2024-01-18 18:57:31 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:57:31 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6507) - "WebSocket /ws/1" [accepted]
2024-01-18 18:57:31 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:57:31 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-18 18:57:31 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:57:31 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:57:31 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:57:31 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6508) - "WebSocket /ws/1" [accepted]
2024-01-18 18:57:31 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:57:31 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6509) - "WebSocket /ws/1" [accepted]
2024-01-18 18:57:31 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:57:31 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-18 18:57:31 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:57:31 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6510) - "WebSocket /ws/1" [accepted]
2024-01-18 18:57:31 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:57:31 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-18 18:57:31 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:57:31 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:57:31 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:57:31 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]

2024-01-18 18:57:31 - log.py[line:18] - INFO: KeyError: '1'

2024-01-18 18:57:31 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]
KeyError: '1'
2024-01-18 18:57:31 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]

2024-01-18 18:57:31 - log.py[line:18] - INFO: KeyError: '1'

2024-01-18 18:57:31 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]
KeyError: '1'
2024-01-18 18:57:31 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6511) - "WebSocket /ws/1" [accepted]
2024-01-18 18:57:31 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:57:31 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:57:31 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:57:31 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]

2024-01-18 18:57:31 - log.py[line:18] - INFO: KeyError: '1'

2024-01-18 18:57:31 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]
KeyError: '1'
2024-01-18 18:57:31 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6512) - "WebSocket /ws/1" [accepted]
2024-01-18 18:57:31 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:57:31 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:57:31 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:57:31 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6513) - "WebSocket /ws/1" [accepted]
2024-01-18 18:57:31 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:57:31 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:57:31 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:57:31 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6514) - "WebSocket /ws/1" [accepted]
2024-01-18 18:57:31 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:57:31 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:57:31 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:57:31 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",

2024-01-18 18:57:31 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]

2024-01-18 18:57:31 - log.py[line:18] - INFO: KeyError: '1'

2024-01-18 18:57:31 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]
KeyError: '1'
2024-01-18 18:57:36 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6517) - "WebSocket /ws/1" [accepted]
2024-01-18 18:57:36 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:57:36 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6518) - "WebSocket /ws/1" [accepted]
2024-01-18 18:57:36 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:57:36 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-18 18:57:36 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:57:36 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6519) - "WebSocket /ws/1" [accepted]
2024-01-18 18:57:36 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:57:36 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]

2024-01-18 18:57:36 - log.py[line:18] - INFO: KeyError: '1'

2024-01-18 18:57:36 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]
KeyError: '1'
2024-01-18 18:57:36 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-18 18:57:36 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:57:36 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6520) - "WebSocket /ws/1" [accepted]
2024-01-18 18:57:36 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:57:36 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-18 18:57:36 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:57:36 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:57:36 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:57:36 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6521) - "WebSocket /ws/1" [accepted]
2024-01-18 18:57:36 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:57:36 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6523) - "WebSocket /ws/1" [accepted]
2024-01-18 18:57:36 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:57:36 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]

2024-01-18 18:57:36 - log.py[line:18] - INFO: KeyError: '1'

2024-01-18 18:57:36 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]
KeyError: '1'
2024-01-18 18:57:36 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-18 18:57:36 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:57:36 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:57:36 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:57:36 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6524) - "WebSocket /ws/1" [accepted]
2024-01-18 18:57:36 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:57:36 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:57:36 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:57:36 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6525) - "WebSocket /ws/1" [accepted]
2024-01-18 18:57:36 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:57:36 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6526) - "WebSocket /ws/1" [accepted]
2024-01-18 18:57:36 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:57:36 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]

2024-01-18 18:57:36 - log.py[line:18] - INFO: KeyError: '1'

2024-01-18 18:57:36 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]
KeyError: '1'
2024-01-18 18:57:36 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-18 18:57:36 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:57:36 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:57:36 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:57:36 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6527) - "WebSocket /ws/1" [accepted]
2024-01-18 18:57:36 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:57:36 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:57:36 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:57:36 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]

2024-01-18 18:57:36 - log.py[line:18] - INFO: KeyError: '1'

2024-01-18 18:57:36 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]
KeyError: '1'
2024-01-18 18:57:36 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",

2024-01-18 18:57:36 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]

2024-01-18 18:57:36 - log.py[line:18] - INFO: KeyError: '1'

2024-01-18 18:57:36 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]
KeyError: '1'
2024-01-18 18:57:39 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:57:39 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:57:39 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:57:39 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-18 18:57:39 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:57:39 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-18 18:57:39 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-18 18:57:39 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:39 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:39 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:39 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:57:39 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:39 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-18 18:57:39 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:39 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-18 18:57:39 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-18 18:57:39 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 89, in dispatch
    raise exc

2024-01-18 18:57:39 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 81, in dispatch
    await self.on_receive(websocket, data)

2024-01-18 18:57:39 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 37, in on_receive
    await ConnMgr.getObj().recv_data(self.user_id, data)

2024-01-18 18:57:39 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 82, in recv_data
    conn = self.conn_dict[user_id]

2024-01-18 18:57:39 - log.py[line:18] - INFO: KeyError: '1'

2024-01-18 18:57:39 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 89, in dispatch
    raise exc
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 81, in dispatch
    await self.on_receive(websocket, data)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 37, in on_receive
    await ConnMgr.getObj().recv_data(self.user_id, data)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 82, in recv_data
    conn = self.conn_dict[user_id]
KeyError: '1'
2024-01-18 18:57:41 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6537) - "WebSocket /ws/1" [accepted]
2024-01-18 18:57:41 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:57:41 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6538) - "WebSocket /ws/1" [accepted]
2024-01-18 18:57:41 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:57:41 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-18 18:57:41 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:57:41 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6539) - "WebSocket /ws/1" [accepted]
2024-01-18 18:57:41 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:57:41 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-18 18:57:41 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:57:41 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:57:41 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:57:41 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6540) - "WebSocket /ws/1" [accepted]
2024-01-18 18:57:41 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:57:41 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:57:41 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:57:41 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6541) - "WebSocket /ws/1" [accepted]
2024-01-18 18:57:41 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:57:41 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:57:41 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:57:41 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6542) - "WebSocket /ws/1" [accepted]
2024-01-18 18:57:41 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:57:41 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:57:41 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:57:41 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6543) - "WebSocket /ws/1" [accepted]
2024-01-18 18:57:41 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:57:41 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:57:41 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:57:41 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6544) - "WebSocket /ws/1" [accepted]
2024-01-18 18:57:41 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:57:41 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:57:41 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:57:41 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6545) - "WebSocket /ws/1" [accepted]
2024-01-18 18:57:41 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:57:41 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:57:41 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:57:41 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:57:41 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-18 18:57:41 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:57:41 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-18 18:57:41 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-18 18:57:41 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:41 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:41 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:41 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:57:41 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:41 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-18 18:57:41 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:41 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-18 18:57:41 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-18 18:57:41 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-18 18:57:41 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-18 18:57:41 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-18 18:57:41 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",

2024-01-18 18:57:41 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]

2024-01-18 18:57:41 - log.py[line:18] - INFO: KeyError: '1'

2024-01-18 18:57:41 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]
KeyError: '1'
2024-01-18 18:57:41 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6546) - "WebSocket /ws/1" [accepted]
2024-01-18 18:57:41 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:57:41 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:57:41 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:57:41 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6547) - "WebSocket /ws/1" [accepted]
2024-01-18 18:57:41 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:57:41 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:57:41 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:57:41 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:57:41 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-18 18:57:41 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:57:41 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-18 18:57:41 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-18 18:57:41 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:41 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:41 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:41 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:57:41 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:41 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-18 18:57:41 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:41 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-18 18:57:41 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-18 18:57:41 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-18 18:57:41 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-18 18:57:41 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-18 18:57:41 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",

2024-01-18 18:57:41 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]

2024-01-18 18:57:41 - log.py[line:18] - INFO: KeyError: '1'

2024-01-18 18:57:41 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]
KeyError: '1'
2024-01-18 18:57:46 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6555) - "WebSocket /ws/1" [accepted]
2024-01-18 18:57:46 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:57:46 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6556) - "WebSocket /ws/1" [accepted]
2024-01-18 18:57:46 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:57:46 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-18 18:57:46 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:57:46 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:57:46 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:57:46 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6557) - "WebSocket /ws/1" [accepted]
2024-01-18 18:57:46 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:57:46 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6558) - "WebSocket /ws/1" [accepted]
2024-01-18 18:57:46 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:57:46 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]

2024-01-18 18:57:46 - log.py[line:18] - INFO: KeyError: '1'

2024-01-18 18:57:46 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]
KeyError: '1'
2024-01-18 18:57:46 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-18 18:57:46 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:57:46 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6559) - "WebSocket /ws/1" [accepted]
2024-01-18 18:57:46 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:57:46 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-18 18:57:46 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:57:46 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:57:46 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:57:46 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6560) - "WebSocket /ws/1" [accepted]
2024-01-18 18:57:46 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:57:46 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6561) - "WebSocket /ws/1" [accepted]
2024-01-18 18:57:46 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:57:46 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-18 18:57:46 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:57:46 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:57:46 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:57:46 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]

2024-01-18 18:57:46 - log.py[line:18] - INFO: KeyError: '1'

2024-01-18 18:57:46 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]
KeyError: '1'
2024-01-18 18:57:46 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6562) - "WebSocket /ws/1" [accepted]
2024-01-18 18:57:46 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:57:46 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:57:46 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:57:46 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6563) - "WebSocket /ws/1" [accepted]
2024-01-18 18:57:46 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:57:46 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:57:46 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:57:46 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6564) - "WebSocket /ws/1" [accepted]
2024-01-18 18:57:46 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:57:46 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:57:46 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:57:46 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6565) - "WebSocket /ws/1" [accepted]
2024-01-18 18:57:46 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:57:46 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:57:46 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:57:46 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]

2024-01-18 18:57:46 - log.py[line:18] - INFO: KeyError: '1'

2024-01-18 18:57:46 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]
KeyError: '1'
2024-01-18 18:57:46 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",

2024-01-18 18:57:46 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]

2024-01-18 18:57:46 - log.py[line:18] - INFO: KeyError: '1'

2024-01-18 18:57:46 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]
KeyError: '1'
2024-01-18 18:57:51 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6573) - "WebSocket /ws/1" [accepted]
2024-01-18 18:57:51 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:57:51 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6574) - "WebSocket /ws/1" [accepted]
2024-01-18 18:57:51 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:57:51 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-18 18:57:51 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:57:51 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:57:51 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:57:51 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6575) - "WebSocket /ws/1" [accepted]
2024-01-18 18:57:51 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:57:51 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:57:51 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:57:51 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6576) - "WebSocket /ws/1" [accepted]
2024-01-18 18:57:51 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:57:51 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:57:51 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:57:51 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6577) - "WebSocket /ws/1" [accepted]
2024-01-18 18:57:51 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:57:51 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:57:51 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:57:51 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6578) - "WebSocket /ws/1" [accepted]
2024-01-18 18:57:51 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:57:51 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6579) - "WebSocket /ws/1" [accepted]
2024-01-18 18:57:51 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:57:51 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]

2024-01-18 18:57:51 - log.py[line:18] - INFO: KeyError: '1'

2024-01-18 18:57:51 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]
KeyError: '1'
2024-01-18 18:57:51 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-18 18:57:51 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:57:51 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6580) - "WebSocket /ws/1" [accepted]
2024-01-18 18:57:51 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:57:51 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-18 18:57:51 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:57:51 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:57:51 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:57:51 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6581) - "WebSocket /ws/1" [accepted]
2024-01-18 18:57:51 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:57:51 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6582) - "WebSocket /ws/1" [accepted]
2024-01-18 18:57:51 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:57:51 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-18 18:57:51 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:57:51 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:57:51 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:57:51 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]

2024-01-18 18:57:51 - log.py[line:18] - INFO: KeyError: '1'

2024-01-18 18:57:51 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]
KeyError: '1'
2024-01-18 18:57:51 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6583) - "WebSocket /ws/1" [accepted]
2024-01-18 18:57:51 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:57:51 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:57:51 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:57:51 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]

2024-01-18 18:57:51 - log.py[line:18] - INFO: KeyError: '1'

2024-01-18 18:57:51 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]
KeyError: '1'
2024-01-18 18:57:51 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",

2024-01-18 18:57:51 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]

2024-01-18 18:57:51 - log.py[line:18] - INFO: KeyError: '1'

2024-01-18 18:57:51 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]
KeyError: '1'
2024-01-18 18:57:56 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6590) - "WebSocket /ws/1" [accepted]
2024-01-18 18:57:56 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:57:56 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6591) - "WebSocket /ws/1" [accepted]
2024-01-18 18:57:56 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:57:56 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-18 18:57:56 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:57:56 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:57:56 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:57:56 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6592) - "WebSocket /ws/1" [accepted]
2024-01-18 18:57:56 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:57:56 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6593) - "WebSocket /ws/1" [accepted]
2024-01-18 18:57:56 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:57:56 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-18 18:57:56 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:57:56 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:57:56 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:57:56 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6594) - "WebSocket /ws/1" [accepted]
2024-01-18 18:57:56 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:57:56 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:57:56 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:57:56 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6595) - "WebSocket /ws/1" [accepted]
2024-01-18 18:57:56 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:57:56 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:57:56 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:57:56 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6596) - "WebSocket /ws/1" [accepted]
2024-01-18 18:57:56 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:57:56 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:57:56 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:57:56 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]

2024-01-18 18:57:56 - log.py[line:18] - INFO: KeyError: '1'

2024-01-18 18:57:56 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]
KeyError: '1'
2024-01-18 18:57:56 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6597) - "WebSocket /ws/1" [accepted]
2024-01-18 18:57:56 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:57:56 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:57:56 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:57:56 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6598) - "WebSocket /ws/1" [accepted]
2024-01-18 18:57:56 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:57:56 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6599) - "WebSocket /ws/1" [accepted]
2024-01-18 18:57:56 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:57:56 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]

2024-01-18 18:57:56 - log.py[line:18] - INFO: KeyError: '1'

2024-01-18 18:57:56 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]
KeyError: '1'
2024-01-18 18:57:56 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-18 18:57:56 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:57:56 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6600) - "WebSocket /ws/1" [accepted]
2024-01-18 18:57:56 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:57:56 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]

2024-01-18 18:57:56 - log.py[line:18] - INFO: KeyError: '1'

2024-01-18 18:57:56 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]
KeyError: '1'
2024-01-18 18:57:56 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-18 18:57:56 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:57:56 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:57:56 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:57:56 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",

2024-01-18 18:57:56 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]

2024-01-18 18:57:56 - log.py[line:18] - INFO: KeyError: '1'

2024-01-18 18:57:56 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]
KeyError: '1'
2024-01-18 18:58:04 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6625) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:04 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:05 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6627) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:05 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:05 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-18 18:58:05 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:05 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6628) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:05 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:05 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-18 18:58:05 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:05 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6629) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:05 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:05 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-18 18:58:05 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:05 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:58:05 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:05 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6630) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:05 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:05 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:58:05 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:05 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:58:05 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:05 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6631) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:05 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:05 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:58:05 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:05 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:58:05 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-18 18:58:05 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:58:05 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-18 18:58:05 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-18 18:58:05 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:05 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:05 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:05 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:58:05 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:05 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-18 18:58:05 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:05 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-18 18:58:05 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-18 18:58:05 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-18 18:58:05 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-18 18:58:05 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-18 18:58:05 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",

2024-01-18 18:58:05 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]

2024-01-18 18:58:05 - log.py[line:18] - INFO: KeyError: '1'

2024-01-18 18:58:05 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]
KeyError: '1'
2024-01-18 18:58:05 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6632) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:05 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:06 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:58:06 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:06 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6633) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:06 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:06 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:58:06 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:06 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:58:06 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-18 18:58:06 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:58:06 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-18 18:58:06 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-18 18:58:06 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:06 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:06 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:06 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:58:06 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:06 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-18 18:58:06 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:06 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-18 18:58:06 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-18 18:58:06 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-18 18:58:06 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-18 18:58:06 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-18 18:58:06 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",

2024-01-18 18:58:06 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]

2024-01-18 18:58:06 - log.py[line:18] - INFO: KeyError: '1'

2024-01-18 18:58:06 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]
KeyError: '1'
2024-01-18 18:58:10 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6642) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:10 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:10 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6643) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:10 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:10 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-18 18:58:10 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:10 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6644) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:10 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:10 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-18 18:58:10 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:10 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:58:10 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:10 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6645) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:10 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:10 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:58:10 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:10 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:58:10 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-18 18:58:10 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:58:10 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-18 18:58:10 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-18 18:58:10 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:10 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:10 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:10 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:58:10 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:10 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-18 18:58:10 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:10 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-18 18:58:10 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-18 18:58:10 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-18 18:58:10 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-18 18:58:10 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-18 18:58:10 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",

2024-01-18 18:58:10 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]

2024-01-18 18:58:10 - log.py[line:18] - INFO: KeyError: '1'

2024-01-18 18:58:10 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]
KeyError: '1'
2024-01-18 18:58:10 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6646) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:10 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:10 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:58:10 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:10 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6647) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:10 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:10 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6648) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:10 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:10 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-18 18:58:10 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:10 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:58:10 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:11 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6649) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:11 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:11 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:58:11 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:11 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:58:11 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-18 18:58:11 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:58:11 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-18 18:58:11 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-18 18:58:11 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:11 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:11 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:11 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:58:11 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:11 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-18 18:58:11 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:11 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-18 18:58:11 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-18 18:58:11 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-18 18:58:11 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-18 18:58:11 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-18 18:58:11 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",

2024-01-18 18:58:11 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]

2024-01-18 18:58:11 - log.py[line:18] - INFO: KeyError: '1'

2024-01-18 18:58:11 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]
KeyError: '1'
2024-01-18 18:58:11 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:58:11 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-18 18:58:11 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:58:11 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-18 18:58:11 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-18 18:58:11 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:11 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:11 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:11 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:58:11 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:11 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-18 18:58:11 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:11 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-18 18:58:11 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-18 18:58:11 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-18 18:58:11 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-18 18:58:11 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-18 18:58:11 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",

2024-01-18 18:58:11 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]

2024-01-18 18:58:11 - log.py[line:18] - INFO: KeyError: '1'

2024-01-18 18:58:11 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]
KeyError: '1'
2024-01-18 18:58:15 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6663) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:15 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:15 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6664) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:15 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:15 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-18 18:58:15 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:15 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:58:15 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:15 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6666) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:15 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:15 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:58:15 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:15 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6667) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:15 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:15 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:58:15 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:15 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6668) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:15 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:15 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:58:15 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:15 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6669) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:15 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:15 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6670) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:15 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:15 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-18 18:58:15 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:15 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:58:15 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:16 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6671) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:16 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:16 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:58:16 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:16 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:58:16 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-18 18:58:16 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:58:16 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-18 18:58:16 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-18 18:58:16 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:16 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:16 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:16 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:58:16 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:16 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-18 18:58:16 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:16 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-18 18:58:16 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-18 18:58:16 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-18 18:58:16 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-18 18:58:16 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-18 18:58:16 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",

2024-01-18 18:58:16 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]

2024-01-18 18:58:16 - log.py[line:18] - INFO: KeyError: '1'

2024-01-18 18:58:16 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]
KeyError: '1'
2024-01-18 18:58:16 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:58:16 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-18 18:58:16 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:58:16 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-18 18:58:16 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-18 18:58:16 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:16 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:16 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:16 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:58:16 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:16 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-18 18:58:16 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:16 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-18 18:58:16 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-18 18:58:16 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-18 18:58:16 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-18 18:58:16 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-18 18:58:16 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",

2024-01-18 18:58:16 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]

2024-01-18 18:58:16 - log.py[line:18] - INFO: KeyError: '1'

2024-01-18 18:58:16 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]
KeyError: '1'
2024-01-18 18:58:20 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6680) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:20 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:20 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6681) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:20 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:20 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-18 18:58:20 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:20 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6682) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:20 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:20 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-18 18:58:20 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:20 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:58:20 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:20 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6683) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:20 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:20 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:58:20 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:20 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6684) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:20 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:20 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:58:20 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:20 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6685) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:20 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:20 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:58:20 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:20 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6686) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:20 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:20 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6687) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:20 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:20 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:58:20 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-18 18:58:20 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:58:20 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-18 18:58:20 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-18 18:58:20 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:20 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:20 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:20 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:58:20 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:20 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-18 18:58:20 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:20 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-18 18:58:20 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-18 18:58:20 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-18 18:58:20 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-18 18:58:20 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-18 18:58:20 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",

2024-01-18 18:58:20 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]

2024-01-18 18:58:20 - log.py[line:18] - INFO: KeyError: '1'

2024-01-18 18:58:20 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]
KeyError: '1'
2024-01-18 18:58:20 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-18 18:58:20 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:20 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:58:20 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:21 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:58:21 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-18 18:58:21 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:58:21 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-18 18:58:21 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-18 18:58:21 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:21 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:21 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:21 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:58:21 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:21 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-18 18:58:21 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:21 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-18 18:58:21 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-18 18:58:21 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-18 18:58:21 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-18 18:58:21 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-18 18:58:21 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",

2024-01-18 18:58:21 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]

2024-01-18 18:58:21 - log.py[line:18] - INFO: KeyError: '1'

2024-01-18 18:58:21 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]
KeyError: '1'
2024-01-18 18:58:21 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:58:21 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-18 18:58:21 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:58:21 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-18 18:58:21 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-18 18:58:21 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:21 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:21 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:21 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:58:21 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:21 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-18 18:58:21 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:21 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-18 18:58:21 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-18 18:58:21 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-18 18:58:21 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-18 18:58:21 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-18 18:58:21 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",

2024-01-18 18:58:21 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]

2024-01-18 18:58:21 - log.py[line:18] - INFO: KeyError: '1'

2024-01-18 18:58:21 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]
KeyError: '1'
2024-01-18 18:58:25 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6701) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:25 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:25 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6702) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:25 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:25 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-18 18:58:25 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:25 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6703) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:25 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:25 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:58:25 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-18 18:58:25 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:58:25 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-18 18:58:25 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-18 18:58:25 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:25 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:25 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:25 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:58:25 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:25 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-18 18:58:25 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:25 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-18 18:58:25 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-18 18:58:25 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-18 18:58:25 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-18 18:58:25 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-18 18:58:25 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",

2024-01-18 18:58:25 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]

2024-01-18 18:58:25 - log.py[line:18] - INFO: KeyError: '1'

2024-01-18 18:58:25 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]
KeyError: '1'
2024-01-18 18:58:25 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-18 18:58:25 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:25 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6704) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:25 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:25 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-18 18:58:25 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:25 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:58:25 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:25 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6705) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:25 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:25 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6706) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:25 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:25 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:58:25 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-18 18:58:25 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:58:25 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-18 18:58:25 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-18 18:58:25 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:25 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:25 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:25 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:58:25 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:25 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-18 18:58:25 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:25 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-18 18:58:25 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-18 18:58:25 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-18 18:58:25 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-18 18:58:25 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-18 18:58:25 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",

2024-01-18 18:58:25 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]

2024-01-18 18:58:25 - log.py[line:18] - INFO: KeyError: '1'

2024-01-18 18:58:25 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]
KeyError: '1'
2024-01-18 18:58:25 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-18 18:58:25 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:25 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:58:25 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:25 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6707) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:25 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:25 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:58:25 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:25 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6708) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:25 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:26 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:58:26 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:26 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:58:26 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-18 18:58:26 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:58:26 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-18 18:58:26 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-18 18:58:26 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:26 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:26 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:26 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:58:26 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:26 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-18 18:58:26 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:26 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-18 18:58:26 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-18 18:58:26 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-18 18:58:26 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-18 18:58:26 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-18 18:58:26 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",

2024-01-18 18:58:26 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]

2024-01-18 18:58:26 - log.py[line:18] - INFO: KeyError: '1'

2024-01-18 18:58:26 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]
KeyError: '1'
2024-01-18 18:58:26 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:58:26 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-18 18:58:26 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:58:26 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-18 18:58:26 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-18 18:58:26 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:26 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:26 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:26 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:58:26 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:26 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-18 18:58:26 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:26 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-18 18:58:26 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-18 18:58:26 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-18 18:58:26 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-18 18:58:26 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-18 18:58:26 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",

2024-01-18 18:58:26 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]

2024-01-18 18:58:26 - log.py[line:18] - INFO: KeyError: '1'

2024-01-18 18:58:26 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]
KeyError: '1'
2024-01-18 18:58:30 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6714) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:30 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:30 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6715) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:30 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:30 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-18 18:58:30 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:30 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6717) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:30 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:30 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-18 18:58:30 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:30 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:58:30 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:30 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6718) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:30 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:30 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:58:30 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:30 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6719) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:30 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:30 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:58:30 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:30 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:58:30 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-18 18:58:30 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:58:30 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-18 18:58:30 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-18 18:58:30 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:30 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:30 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:30 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:58:30 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:30 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-18 18:58:30 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:30 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-18 18:58:30 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-18 18:58:30 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-18 18:58:30 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-18 18:58:30 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-18 18:58:30 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",

2024-01-18 18:58:30 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]

2024-01-18 18:58:30 - log.py[line:18] - INFO: KeyError: '1'

2024-01-18 18:58:30 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]
KeyError: '1'
2024-01-18 18:58:30 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6720) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:30 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:30 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:58:30 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:30 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6721) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:30 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:31 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:58:31 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:31 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6723) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:31 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:31 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:58:31 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:31 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:58:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-18 18:58:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:58:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-18 18:58:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-18 18:58:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:58:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-18 18:58:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-18 18:58:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-18 18:58:31 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-18 18:58:31 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-18 18:58:31 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-18 18:58:31 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",

2024-01-18 18:58:31 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]

2024-01-18 18:58:31 - log.py[line:18] - INFO: KeyError: '1'

2024-01-18 18:58:31 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]
KeyError: '1'
2024-01-18 18:58:35 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6731) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:35 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:35 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6732) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:35 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:35 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-18 18:58:35 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:35 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6733) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:35 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:35 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-18 18:58:35 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:35 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:58:35 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:35 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6734) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:35 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:35 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:58:35 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:35 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6735) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:35 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:35 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:58:35 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:35 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6736) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:35 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:35 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:58:35 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:35 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6737) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:35 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:35 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:58:35 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:35 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:58:35 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-18 18:58:35 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:58:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-18 18:58:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-18 18:58:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:58:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-18 18:58:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-18 18:58:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-18 18:58:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-18 18:58:36 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-18 18:58:36 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-18 18:58:36 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",

2024-01-18 18:58:36 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]

2024-01-18 18:58:36 - log.py[line:18] - INFO: KeyError: '1'

2024-01-18 18:58:35 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]
KeyError: '1'
2024-01-18 18:58:36 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6738) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:36 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:36 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:58:36 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:36 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:58:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-18 18:58:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:58:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-18 18:58:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-18 18:58:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:58:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-18 18:58:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-18 18:58:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-18 18:58:36 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-18 18:58:36 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-18 18:58:36 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-18 18:58:36 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",

2024-01-18 18:58:36 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]

2024-01-18 18:58:36 - log.py[line:18] - INFO: KeyError: '1'

2024-01-18 18:58:36 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]
KeyError: '1'
2024-01-18 18:58:40 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6743) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:40 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:40 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6744) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:40 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:40 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-18 18:58:40 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:40 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6745) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:40 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:40 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-18 18:58:40 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:40 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:58:40 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:40 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6746) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:40 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:40 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:58:40 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:40 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6747) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:40 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:40 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:58:40 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:40 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6748) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:40 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:40 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:58:40 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:40 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:58:40 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-18 18:58:40 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:58:40 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-18 18:58:40 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-18 18:58:40 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:40 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:40 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:40 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:58:40 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:40 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-18 18:58:40 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:40 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-18 18:58:40 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-18 18:58:40 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-18 18:58:40 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-18 18:58:40 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-18 18:58:40 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",

2024-01-18 18:58:40 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]

2024-01-18 18:58:40 - log.py[line:18] - INFO: KeyError: '1'

2024-01-18 18:58:40 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]
KeyError: '1'
2024-01-18 18:58:40 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6750) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:40 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:40 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:58:40 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:40 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6751) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:40 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:41 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:58:41 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:41 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:58:41 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-18 18:58:41 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:58:41 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-18 18:58:41 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-18 18:58:41 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:41 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:41 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:41 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:58:41 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:41 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-18 18:58:41 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:41 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-18 18:58:41 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-18 18:58:41 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-18 18:58:41 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-18 18:58:41 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-18 18:58:41 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",

2024-01-18 18:58:41 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]

2024-01-18 18:58:41 - log.py[line:18] - INFO: KeyError: '1'

2024-01-18 18:58:41 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]
KeyError: '1'
2024-01-18 18:58:45 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6760) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:45 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:45 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6761) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:45 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:45 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-18 18:58:45 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:45 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6762) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:45 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:45 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-18 18:58:45 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:45 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:58:45 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:45 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6763) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:45 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:45 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:58:45 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:45 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6764) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:45 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:45 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:58:45 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:45 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6765) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:45 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:45 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:58:45 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:45 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6766) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:45 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:45 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:58:45 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:45 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6767) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:45 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:46 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:58:46 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:46 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:58:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-18 18:58:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:58:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-18 18:58:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-18 18:58:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:58:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-18 18:58:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-18 18:58:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-18 18:58:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-18 18:58:46 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-18 18:58:46 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-18 18:58:46 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",

2024-01-18 18:58:46 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]

2024-01-18 18:58:46 - log.py[line:18] - INFO: KeyError: '1'

2024-01-18 18:58:46 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]
KeyError: '1'
2024-01-18 18:58:46 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:58:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-18 18:58:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:58:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-18 18:58:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-18 18:58:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:58:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-18 18:58:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-18 18:58:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-18 18:58:46 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-18 18:58:46 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-18 18:58:46 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-18 18:58:46 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",

2024-01-18 18:58:46 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]

2024-01-18 18:58:46 - log.py[line:18] - INFO: KeyError: '1'

2024-01-18 18:58:46 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]
KeyError: '1'
2024-01-18 18:58:50 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6775) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:50 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:50 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6776) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:50 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:50 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-18 18:58:50 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:50 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6777) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:50 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:50 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-18 18:58:50 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:50 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:58:50 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:50 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6778) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:50 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:50 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:58:50 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:50 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6779) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:50 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:50 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:58:50 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:50 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6780) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:50 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:50 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:58:50 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:50 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6781) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:50 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:50 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:58:50 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:50 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:58:50 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-18 18:58:50 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:58:50 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-18 18:58:50 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-18 18:58:50 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:50 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:50 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:50 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:58:50 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:50 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-18 18:58:50 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:50 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-18 18:58:50 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-18 18:58:50 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-18 18:58:50 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-18 18:58:50 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-18 18:58:50 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",

2024-01-18 18:58:50 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]

2024-01-18 18:58:50 - log.py[line:18] - INFO: KeyError: '1'

2024-01-18 18:58:50 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]
KeyError: '1'
2024-01-18 18:58:51 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6782) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:51 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:51 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:58:51 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:51 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:58:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-18 18:58:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:58:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-18 18:58:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-18 18:58:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:58:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-18 18:58:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-18 18:58:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-18 18:58:51 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-18 18:58:51 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-18 18:58:51 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-18 18:58:51 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",

2024-01-18 18:58:51 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]

2024-01-18 18:58:51 - log.py[line:18] - INFO: KeyError: '1'

2024-01-18 18:58:51 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]
KeyError: '1'
2024-01-18 18:58:55 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6792) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:55 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:55 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6793) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:55 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:55 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-18 18:58:55 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:55 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:58:55 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:55 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6794) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:55 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:55 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6795) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:55 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:55 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-18 18:58:55 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:55 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:58:55 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:55 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6796) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:55 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:55 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:58:55 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:55 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6797) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:55 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:55 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:58:55 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:55 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6798) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:55 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:55 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:58:55 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:55 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6799) - "WebSocket /ws/1" [accepted]
2024-01-18 18:58:55 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:58:56 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:58:56 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:58:56 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:58:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-18 18:58:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:58:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-18 18:58:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-18 18:58:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:58:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-18 18:58:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-18 18:58:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-18 18:58:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-18 18:58:56 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-18 18:58:56 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-18 18:58:56 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",

2024-01-18 18:58:56 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]

2024-01-18 18:58:56 - log.py[line:18] - INFO: KeyError: '1'

2024-01-18 18:58:56 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]
KeyError: '1'
2024-01-18 18:58:56 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:58:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-18 18:58:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:58:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-18 18:58:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-18 18:58:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:58:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-18 18:58:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:58:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-18 18:58:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-18 18:58:56 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-18 18:58:56 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-18 18:58:56 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-18 18:58:56 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",

2024-01-18 18:58:56 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]

2024-01-18 18:58:56 - log.py[line:18] - INFO: KeyError: '1'

2024-01-18 18:58:56 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]
KeyError: '1'
2024-01-18 18:59:00 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6806) - "WebSocket /ws/1" [accepted]
2024-01-18 18:59:00 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:59:00 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6807) - "WebSocket /ws/1" [accepted]
2024-01-18 18:59:00 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:59:00 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-18 18:59:00 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:59:00 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6808) - "WebSocket /ws/1" [accepted]
2024-01-18 18:59:00 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:59:00 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-18 18:59:00 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:59:00 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:59:00 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:59:00 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6809) - "WebSocket /ws/1" [accepted]
2024-01-18 18:59:00 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:59:00 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:59:00 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:59:00 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6810) - "WebSocket /ws/1" [accepted]
2024-01-18 18:59:00 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:59:00 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:59:00 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:59:00 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6811) - "WebSocket /ws/1" [accepted]
2024-01-18 18:59:00 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:59:00 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:59:00 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:59:00 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:59:00 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-18 18:59:00 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:59:00 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-18 18:59:00 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-18 18:59:00 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:59:00 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:59:00 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:59:00 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:59:00 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:59:00 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-18 18:59:00 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:59:00 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-18 18:59:00 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-18 18:59:00 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-18 18:59:00 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-18 18:59:00 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-18 18:59:00 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",

2024-01-18 18:59:00 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]

2024-01-18 18:59:00 - log.py[line:18] - INFO: KeyError: '1'

2024-01-18 18:59:00 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]
KeyError: '1'
2024-01-18 18:59:00 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6812) - "WebSocket /ws/1" [accepted]
2024-01-18 18:59:00 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:59:01 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6813) - "WebSocket /ws/1" [accepted]
2024-01-18 18:59:01 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:59:01 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:59:01 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-18 18:59:01 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:59:01 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-18 18:59:01 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-18 18:59:01 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:59:01 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:59:01 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:59:01 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:59:01 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:59:01 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-18 18:59:01 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:59:01 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-18 18:59:01 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-18 18:59:01 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-18 18:59:01 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-18 18:59:01 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-18 18:59:01 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",

2024-01-18 18:59:01 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]

2024-01-18 18:59:01 - log.py[line:18] - INFO: KeyError: '1'

2024-01-18 18:59:01 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]
KeyError: '1'
2024-01-18 18:59:01 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-18 18:59:01 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:59:01 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:59:01 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:59:01 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:59:01 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-18 18:59:01 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:59:01 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-18 18:59:01 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-18 18:59:01 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:59:01 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:59:01 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:59:01 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:59:01 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:59:01 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-18 18:59:01 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:59:01 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-18 18:59:01 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-18 18:59:01 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-18 18:59:01 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-18 18:59:01 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-18 18:59:01 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",

2024-01-18 18:59:01 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]

2024-01-18 18:59:01 - log.py[line:18] - INFO: KeyError: '1'

2024-01-18 18:59:01 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]
KeyError: '1'
2024-01-18 18:59:05 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6822) - "WebSocket /ws/1" [accepted]
2024-01-18 18:59:05 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:59:05 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6823) - "WebSocket /ws/1" [accepted]
2024-01-18 18:59:05 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:59:05 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-18 18:59:05 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:59:05 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6824) - "WebSocket /ws/1" [accepted]
2024-01-18 18:59:05 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:59:05 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-18 18:59:05 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:59:05 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:59:05 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:59:05 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6825) - "WebSocket /ws/1" [accepted]
2024-01-18 18:59:05 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:59:05 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:59:05 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:59:05 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6826) - "WebSocket /ws/1" [accepted]
2024-01-18 18:59:05 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:59:05 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:59:05 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:59:05 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6827) - "WebSocket /ws/1" [accepted]
2024-01-18 18:59:05 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:59:05 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:59:05 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:59:05 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6828) - "WebSocket /ws/1" [accepted]
2024-01-18 18:59:05 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:59:05 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:59:05 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:59:05 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6829) - "WebSocket /ws/1" [accepted]
2024-01-18 18:59:05 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:59:05 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:59:05 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:59:06 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:59:06 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-18 18:59:06 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:59:06 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-18 18:59:06 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-18 18:59:06 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:59:06 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:59:06 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:59:06 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:59:06 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:59:06 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-18 18:59:06 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:59:06 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-18 18:59:06 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-18 18:59:06 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-18 18:59:06 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-18 18:59:06 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-18 18:59:06 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",

2024-01-18 18:59:06 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]

2024-01-18 18:59:06 - log.py[line:18] - INFO: KeyError: '1'

2024-01-18 18:59:06 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]
KeyError: '1'
2024-01-18 18:59:06 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:59:06 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-18 18:59:06 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:59:06 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-18 18:59:06 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-18 18:59:06 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:59:06 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:59:06 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:59:06 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:59:06 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:59:06 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-18 18:59:06 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:59:06 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-18 18:59:06 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-18 18:59:06 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-18 18:59:06 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-18 18:59:06 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-18 18:59:06 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",

2024-01-18 18:59:06 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]

2024-01-18 18:59:06 - log.py[line:18] - INFO: KeyError: '1'

2024-01-18 18:59:06 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]
KeyError: '1'
2024-01-18 18:59:10 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6835) - "WebSocket /ws/1" [accepted]
2024-01-18 18:59:10 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:59:10 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6836) - "WebSocket /ws/1" [accepted]
2024-01-18 18:59:10 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:59:10 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-18 18:59:10 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:59:10 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6837) - "WebSocket /ws/1" [accepted]
2024-01-18 18:59:10 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:59:10 - log.py[line:18] - INFO: 用户 1 被顶号
2024-01-18 18:59:10 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:59:10 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:59:10 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:59:10 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6838) - "WebSocket /ws/1" [accepted]
2024-01-18 18:59:10 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:59:10 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:59:10 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:59:10 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6839) - "WebSocket /ws/1" [accepted]
2024-01-18 18:59:10 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:59:10 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:59:10 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:59:10 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6840) - "WebSocket /ws/1" [accepted]
2024-01-18 18:59:10 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:59:10 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:59:10 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:59:10 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6841) - "WebSocket /ws/1" [accepted]
2024-01-18 18:59:10 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:59:10 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:59:10 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:59:10 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6842) - "WebSocket /ws/1" [accepted]
2024-01-18 18:59:10 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:59:11 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 18:59:11 - log.py[line:18] - INFO: 用户 1 下线，在线人数：0
2024-01-18 18:59:11 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:59:11 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-18 18:59:11 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:59:11 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-18 18:59:11 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-18 18:59:11 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:59:11 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:59:11 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:59:11 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:59:11 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:59:11 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-18 18:59:11 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:59:11 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-18 18:59:11 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-18 18:59:11 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-18 18:59:11 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-18 18:59:11 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-18 18:59:11 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",

2024-01-18 18:59:11 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]

2024-01-18 18:59:11 - log.py[line:18] - INFO: KeyError: '1'

2024-01-18 18:59:11 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]
KeyError: '1'
2024-01-18 18:59:11 - log.py[line:18] - INFO: Traceback (most recent call last):

2024-01-18 18:59:11 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)

2024-01-18 18:59:11 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:59:11 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)

2024-01-18 18:59:11 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)

2024-01-18 18:59:11 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:59:11 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:59:11 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:59:11 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)

2024-01-18 18:59:11 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:59:11 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

2024-01-18 18:59:11 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)

2024-01-18 18:59:11 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)

2024-01-18 18:59:11 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)

2024-01-18 18:59:11 - log.py[line:18] - INFO:   File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)

2024-01-18 18:59:11 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)

2024-01-18 18:59:11 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)

2024-01-18 18:59:11 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",

2024-01-18 18:59:11 - log.py[line:18] - INFO:   File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]

2024-01-18 18:59:11 - log.py[line:18] - INFO: KeyError: '1'

2024-01-18 18:59:11 - websockets_impl.py[line:203] - ERROR: Exception in ASGI application
Traceback (most recent call last):
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 199, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\base.py", line 24, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\exceptions.py", line 69, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "D:\PyProject\game_server\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\routing.py", line 325, in handle
    await self.app(scope, receive, send)
  File "D:\PyProject\game_server\venv\lib\site-packages\starlette\endpoints.py", line 72, in dispatch
    await self.on_connect(websocket)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 33, in on_connect
    await ConnMgr.getObj().add_conn(self)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 79, in add_conn
    await self.connSucc(conn.user_id)
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 68, in connSucc
    "func": "connSucc",
  File "D:\CocosProject\wb\game_server\src\server_module\server.py", line 88, in send_data
    conn = self.conn_dict[user_id]
KeyError: '1'
2024-01-18 18:59:20 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6863) - "WebSocket /ws/1" [accepted]
2024-01-18 18:59:20 - log.py[line:18] - INFO: 用户 1 上线，在线人数：1
2024-01-18 18:59:22 - websockets_impl.py[line:230] - INFO: ('127.0.0.1', 6866) - "WebSocket /ws/1736" [accepted]
2024-01-18 18:59:22 - log.py[line:18] - INFO: 用户 1736 上线，在线人数：2
2024-01-18 18:59:45 - log.py[line:18] - INFO: 用户 1736 下线，在线人数：2
2024-01-18 18:59:45 - log.py[line:18] - INFO: 用户 1 下线，在线人数：2
2024-01-18 19:00:28 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 19:00:28 - log.py[line:18] - INFO: 用户 1 下线，在线人数：1
2024-01-18 19:00:30 - log.py[line:18] - INFO: 客户端断开连接
2024-01-18 19:00:30 - log.py[line:18] - INFO: 用户 1736 下线，在线人数：0
2024-01-18 19:01:45 - statreload.py[line:41] - WARNING: StatReload detected file change in 'server_module\sender\sender_remote.py'. Reloading...
2024-01-18 19:01:45 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-18 19:01:46 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-18 19:01:46 - server.py[line:84] - INFO: Started server process [19656]
2024-01-18 19:01:46 - on.py[line:45] - INFO: Waiting for application startup.
2024-01-18 19:01:46 - core.py[line:91] - INFO: Connected to database mysql+pymysql://meta1_xfx_hk:********@82.156.31.158:3306/meta1_xfx_hk?charset=utf8mb4
2024-01-18 19:01:46 - on.py[line:59] - INFO: Application startup complete.
2024-01-18 19:01:55 - statreload.py[line:41] - WARNING: StatReload detected file change in 'server_module\sender\sender_remote.py'. Reloading...
2024-01-18 19:01:55 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-18 19:01:56 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-18 19:01:56 - server.py[line:84] - INFO: Started server process [9644]
2024-01-18 19:01:56 - on.py[line:45] - INFO: Waiting for application startup.
2024-01-18 19:01:56 - core.py[line:91] - INFO: Connected to database mysql+pymysql://meta1_xfx_hk:********@82.156.31.158:3306/meta1_xfx_hk?charset=utf8mb4
2024-01-18 19:01:56 - on.py[line:59] - INFO: Application startup complete.
2024-01-18 19:03:08 - statreload.py[line:41] - WARNING: StatReload detected file change in 'server_module\sender\sender_remote.py'. Reloading...
2024-01-18 19:03:08 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-18 19:03:09 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-18 19:03:09 - server.py[line:84] - INFO: Started server process [39048]
2024-01-18 19:03:09 - on.py[line:45] - INFO: Waiting for application startup.
2024-01-18 19:03:09 - core.py[line:91] - INFO: Connected to database mysql+pymysql://meta1_xfx_hk:********@82.156.31.158:3306/meta1_xfx_hk?charset=utf8mb4
2024-01-18 19:03:09 - on.py[line:59] - INFO: Application startup complete.
2024-01-18 19:04:46 - statreload.py[line:41] - WARNING: StatReload detected file change in 'server_module\sender\sender_remote.py'. Reloading...
2024-01-18 19:04:46 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-18 19:04:47 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-18 19:04:47 - server.py[line:84] - INFO: Started server process [7712]
2024-01-18 19:04:47 - on.py[line:45] - INFO: Waiting for application startup.
2024-01-18 19:04:47 - core.py[line:91] - INFO: Connected to database mysql+pymysql://meta1_xfx_hk:********@82.156.31.158:3306/meta1_xfx_hk?charset=utf8mb4
2024-01-18 19:04:47 - on.py[line:59] - INFO: Application startup complete.
2024-01-18 19:05:28 - statreload.py[line:41] - WARNING: StatReload detected file change in 'server_module\sender\sender_remote.py'. Reloading...
2024-01-18 19:05:29 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-18 19:05:29 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-18 19:05:29 - server.py[line:84] - INFO: Started server process [35656]
2024-01-18 19:05:29 - on.py[line:45] - INFO: Waiting for application startup.
2024-01-18 19:05:30 - core.py[line:91] - INFO: Connected to database mysql+pymysql://meta1_xfx_hk:********@82.156.31.158:3306/meta1_xfx_hk?charset=utf8mb4
2024-01-18 19:05:30 - on.py[line:59] - INFO: Application startup complete.
2024-01-18 19:06:57 - statreload.py[line:41] - WARNING: StatReload detected file change in 'server_module\handler_module\handler_fight.py'. Reloading...
2024-01-18 19:06:57 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-18 19:06:58 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-18 19:06:58 - server.py[line:84] - INFO: Started server process [33248]
2024-01-18 19:06:58 - on.py[line:45] - INFO: Waiting for application startup.
2024-01-18 19:06:58 - core.py[line:91] - INFO: Connected to database mysql+pymysql://meta1_xfx_hk:********@82.156.31.158:3306/meta1_xfx_hk?charset=utf8mb4
2024-01-18 19:06:58 - on.py[line:59] - INFO: Application startup complete.
2024-01-18 19:09:35 - statreload.py[line:41] - WARNING: StatReload detected file change in 'server_module\sender\sender_remote.py'. Reloading...
2024-01-18 19:09:35 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-18 19:09:36 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-18 19:09:36 - server.py[line:84] - INFO: Started server process [41596]
2024-01-18 19:09:36 - on.py[line:45] - INFO: Waiting for application startup.
2024-01-18 19:09:37 - core.py[line:91] - INFO: Connected to database mysql+pymysql://meta1_xfx_hk:********@82.156.31.158:3306/meta1_xfx_hk?charset=utf8mb4
2024-01-18 19:09:37 - on.py[line:59] - INFO: Application startup complete.
2024-01-18 19:39:53 - basereload.py[line:90] - INFO: Stopping reloader process [25792]
2024-01-18 20:31:02 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-18 20:31:02 - config.py[line:342] - INFO: Will watch for changes in these directories: ['D:\\CocosProject\\wb\\game_server\\src']
2024-01-18 20:31:02 - config.py[line:562] - INFO: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2024-01-18 20:31:02 - basereload.py[line:59] - INFO: Started reloader process [38668] using statreload
2024-01-18 20:31:02 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-18 20:31:03 - log.py[line:18] - INFO: ------------------------------------------------------------------------------------------------------------------
2024-01-18 20:31:03 - server.py[line:84] - INFO: Started server process [44296]
2024-01-18 20:31:03 - on.py[line:45] - INFO: Waiting for application startup.
2024-01-18 20:31:04 - core.py[line:91] - INFO: Connected to database mysql+pymysql://meta1_xfx_hk:********@82.156.31.158:3306/meta1_xfx_hk?charset=utf8mb4
2024-01-18 20:31:04 - on.py[line:59] - INFO: Application startup complete.
2024-01-18 20:31:05 - server.py[line:263] - INFO: Shutting down
2024-01-18 20:31:05 - basereload.py[line:90] - INFO: Stopping reloader process [38668]
